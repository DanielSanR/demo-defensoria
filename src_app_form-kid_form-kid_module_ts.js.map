{"version":3,"file":"src_app_form-kid_form-kid_module_ts.js","mappings":"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","sources":["./src/app/form-kid/form-kid-routing.module.ts","./src/app/form-kid/form-kid.module.ts","./src/app/form-kid/form-kid.page.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { FormKidPage } from './form-kid.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: FormKidPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class FormKidPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { SwiperModule } from 'swiper/angular';\nimport { IonicModule } from '@ionic/angular';\n\nimport { FormKidPageRoutingModule } from './form-kid-routing.module';\n\nimport { FormKidPage } from './form-kid.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    FormKidPageRoutingModule,\n    SwiperModule\n  ],\n  declarations: [FormKidPage]\n})\nexport class FormKidPageModule {}\n","/* eslint-disable @typescript-eslint/quotes */\n/* eslint-disable arrow-body-style */\nimport { OnInit,ChangeDetectorRef, Component, ViewChild, ViewEncapsulation } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { RangeCustomEvent, LoadingController } from '@ionic/angular';\nimport SwiperCore ,{SwiperOptions} from 'swiper';\nimport { SwiperComponent } from 'swiper/angular';\nimport PreguntasformArr from '../../assets/datos/DinamicFormKid.json';\nimport { Help } from '../models/Help';\nimport { FormService } from '../services/form.service';\nexport interface PreguntasForm {\n  key: string;\n  title: string;\n  type: string;\n  icon: boolean;\n  preguntas?: Array<OpcForm>;\n}\ninterface OpcForm {\nid: number;\nval: string;\nisChecked?: boolean | false;\nicon?: string;\n}\n@Component({\n  selector: 'app-form-kid',\n  templateUrl: './form-kid.page.html',\n  styleUrls: ['./form-kid.page.scss'],\n})\nexport class FormKidPage implements OnInit {\n  @ViewChild('swiper', { static: false }) swiper?: SwiperComponent;\n\n  public dinamicForm: PreguntasForm[] = PreguntasformArr;\n  public help: Help = new Help();\n  public bandera = false;\n  public selected: boolean;\n  public selectedAge: any;\n  public background ='#ffffff';\n  public finalized: boolean;\n  public backgroundChecked='#FE910E';\n  isckecked: boolean;\n  public config: SwiperOptions ={\n    allowTouchMove:false,\n    autoHeight: true,\n    preventInteractionOnTransition:true,\n    speed: 250,\n    effect: 'fade',\n          fadeEffect: {\n              crossFade: true\n          }\n  };\n    constructor(private router: Router,private formService: FormService,\n      private cd: ChangeDetectorRef, private loadingController: LoadingController) {\n    }\n    ngOnInit(){\n\n    }\n   ionViewDidEnter() {\n    this.background ='#ffffff';\n    this.finalized = false;\n    }\n    next(){\n      this.selected = false;\n      this.swiper.swiperRef.slideNext(500);\n    }\n    prev(){\n      if(this.swiper.swiperRef.activeIndex ===0)\n      {\n    this.close();\n      }\n      this.selected = false;\n      this.swiper.swiperRef.slidePrev(500);\n    }\n   close(){\n    this.selected = false;\n    this.router.navigateByUrl('/principal/inicio');\n  }\n  //check\n   filterItems(arr) {\n    return arr.filter((el) => el).map((e) => e.isChecked).includes(true);\n  }\n  select(entry: any, arr?: any,index?: any){\n    if(!this.filterItems(arr.preguntas)){\n          arr.preguntas[index].isChecked= true;\n    }\n    else if(this.filterItems(arr.preguntas)  &&  arr.multiple === true){\n          if(arr.preguntas[index].isChecked){\n            arr.preguntas[index].isChecked = false;\n      }\n      else {\n            arr.preguntas[index].isChecked= true;\n      }\n    }\n    else {\n      arr.preguntas[index].isChecked = false;\n    }\n    this.selected = this.filterItems(arr.preguntas);\n    if((this.swiper.swiperRef.activeIndex === 6)&&(entry.isChecked === true)){\n      this.bandera = true;\n      this.selected = true;\n    } else{ this.bandera = false;}\n\n  }\n  ageRange(ev: Event){\n    this.selectedAge = (ev as RangeCustomEvent).detail.value;\n    this.selected = true;\n  }\n\n  async backHome(){\n    const loading = await this.loadingController.create({\n      message: 'Cerrando Formulario...',\n      spinner: 'circles',\n    });\n    await loading.present();\n    await this.clearCheckbox();\n    this.finalized = false;\n    this.swiper.swiperRef.destroy(true, true);\n       loading.dismiss();\n  }\n  async enviar(){\n\n    const formTemp = {\n      victim : this.checked(this.dinamicForm[0]),\n      reason: this.checked(this.dinamicForm[1]),\n      agressor: this.checked(this.dinamicForm[2]),\n      agressorGender: this.checked(this.dinamicForm[3]),\n      age: this.selectedAge,\n      gender: this.checked(this.dinamicForm[5]),\n      place: this.checked(this.dinamicForm[6]),\n    };\n    console.log(formTemp);\n    const val = await this.formService.setForm(formTemp);\n    if(val){\n      this.swiper.swiperRef.slideNext(500);\n      this.bandera= false;\n      this.finalized = true;\n    }else {\n      this.finalized = true;\n      this.bandera= false;\n    }\n\n  }\n  onAfterTransitionEnd(){\n    setTimeout(() => {\n      this.background = '#5A4BB2';\n    }, 300);\n  }\n  checked(array: any){\n    if(array.multiple === true){\n      return array.preguntas.filter(x=> x.isChecked === true ).map( x => {\n        delete x.isChecked;\n        delete x.id;\n        return x.val;\n    });\n    }\n    else {\n      return array.preguntas.filter(x => x.isChecked === true)[0].val;\n\n      };\n    }\n\n\n  async ionViewWillLeave() {\n    const loading = await this.loadingController.create({\n      message: 'Cerrando Formulario...',\n      spinner: 'circles',\n    });\n    await loading.present();\n    await this.clearCheckbox();\n    this.finalized = false;\n    loading.dismiss();\n    this.background ='#ffffff';\n    this.swiper.swiperRef.destroy(true, true);\n  }\n\n  async clearCheckbox(){\n    this.dinamicForm.forEach(e =>{\n      if(e.key !== 'edad'){\n        e.preguntas.map( preg =>{\n          preg.isChecked = false;\n        });\n      }\n    });\n  }\n}\n\n"],"names":["ChangeDetectorRef","Component","ViewChild","Router","LoadingController","PreguntasformArr","Help","FormService","FormKidPage","constructor","router","formService","cd","loadingController","allowTouchMove","autoHeight","preventInteractionOnTransition","speed","effect","fadeEffect","crossFade","ngOnInit","ionViewDidEnter","background","finalized","next","selected","swiper","swiperRef","slideNext","prev","activeIndex","close","slidePrev","navigateByUrl","filterItems","arr","filter","el","map","e","isChecked","includes","select","entry","index","preguntas","multiple","bandera","ageRange","ev","selectedAge","detail","value","backHome","loading","create","message","spinner","present","clearCheckbox","destroy","dismiss","enviar","formTemp","victim","checked","dinamicForm","reason","agressor","agressorGender","age","gender","place","console","log","val","setForm","onAfterTransitionEnd","setTimeout","array","x","id","ionViewWillLeave","forEach","key","preg","args","static","selector","template"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}