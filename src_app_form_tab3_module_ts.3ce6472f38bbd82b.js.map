{"version":3,"file":"src_app_form_tab3_module_ts.3ce6472f38bbd82b.js","mappings":"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","names":["i0","routes","path","component","Tab3Page","constructor","router","formService","cd","loadingController","this","PreguntasformArr","Help","allowTouchMove","autoHeight","preventInteractionOnTransition","speed","effect","fadeEffect","crossFade","ngOnInit","ionViewDidEnter","background","finalized","next","selected","swiper","swiperRef","slideNext","close","navigateByUrl","filterItems","arr","filter","el","map","e","isChecked","includes","select","entry","index","preguntas","multiple","activeIndex","bandera","ageRange","ev","selectedAge","detail","value","backHome","loading","_this","create","message","spinner","present","clearCheckbox","destroy","dismiss","enviar","_this2","formTemp","victim","checked","dinamicForm","reason","agressor","agressorGender","age","gender","place","console","log","setForm","onAfterTransitionEnd","setTimeout","array","x","id","val","ionViewWillLeave","_this3","_this4","forEach","key","preg","selectors","Tab3PageRoutingModule","RouterModule","Tab3PageModule","IonicModule","CommonModule","FormsModule","SwiperModule"],"sourceRoot":"webpack:///","sources":["./src/app/form/tab3.page.html","./src/app/form/tab3-routing.module.ts","./src/app/form/tab3.page.ts","./src/app/form/tab3.module.ts"],"sourcesContent":["<ion-content padding  scrollEvents=\"true\" fullscreen=\"true\" [style.--background]=\"background\">\n    <!--  (slideChange)=\"slideChanges()\" (slideChangeTransitionEnd)=\"onBeforeTransition()\" -->\n    <ion-grid style=\"padding:0px\">\n        <ion-row style=\"padding:0px\">\n            <ion-col size=\"12\" style=\"padding:0px\">\n                <swiper #swiper [config]=\"config\" *ngIf=\"dinamicForm\" (reachEnd)=\"onAfterTransitionEnd()\" >\n                      <ng-template swiperSlide *ngFor=\"let item of dinamicForm;index as i\">\n                        <div class=\"slide-container\"> \n                         <div class=\"main-header\"  align=\"end\">\n                            <span  style=\"color:#ffff\">\n                                <ion-icon name=\"close-circle-outline\"  class=\"close-icon\" (click)=\"close()\"></ion-icon>\n                            </span>\n                             <div class=\"ion-text-center col-titulo\">\n                                        <label><p class=\"titulo\">\n                                            {{i+1}} / 7\n                                        </p> <p class=\"titulo\">\n                                            {{item.title}}\n                                        </p></label>\n                                    </div>\n                             </div>\n                             <ion-col [ngSwitch]=\"item.type\">\n                                <ion-list *ngSwitchCase=\"'range'\" lines=\"none\"  style=\"background:#f4f4f4;\"> \n                                                <ion-range (ionChange)=\"ageRange($event)\" [min]=\"0\" [max]=\"18\" [value]=\"5\" [pin]=\"true\" [snaps]=\"true\"></ion-range>        \n                                </ion-list>\n                                <ion-list *ngSwitchCase=\"'item'\" class=\"list-form\"  lines=\"none\">\n                                    <ion-item [ngStyle]=\" {'--background': entry?.isChecked===true ? backgroundChecked : background}\" button class=\"list-form-item\" *ngFor=\"let entry of item.preguntas as Preguntas;index as i\" (click)=\"select(entry,item,i)\">\n                                        <ion-label [ngStyle]=\"{'--color': entry?.isChecked===true ? '#FFF' : '#000'}\" class=\"list-form-item-label\" > {{entry.val}}</ion-label>\n                                    </ion-item>\n                                </ion-list>\n                            </ion-col>\n                                </div>\n                    </ng-template>  \n                    <ng-template swiperSlide>\n                        <div class=\"slide-container\" style=\"padding-top: 150px;\">\n                                <div class=\"ion-text-center\" style=\"height: 50%;\">\n                                    <ion-label class=\"ion-text-center\">\n                                        <ion-icon src=\"../../assets/icon/text.svg\" style=\"width:300px;height:178px;\"></ion-icon>         \n                                    </ion-label>\n                                </div>\n                                <div class=\"ion-text-center\" style=\"padding-top: 20px;\">\n                                 <ion-thumbnail style=\"display: contents;\">\n                                        <ion-icon src=\"../../assets/icon/send.svg\" style=\"width:300px;height:250px;\"></ion-icon>         \n                                    </ion-thumbnail>\n                                </div>\n                                </div>\n                    </ng-template> \n                </swiper>\n            </ion-col>\n        </ion-row>\n    </ion-grid>\n</ion-content>  \n<ion-footer class=\"ion-no-border\" [style.background]=\"background\">\n    <ion-grid style=\"padding-left: 35px;\n    padding-right: 35px;\" >\n        <ion-row>\n            <ion-col size=\"12\" *ngIf=\"bandera\" class=\"ion-text-center\" >\n                <ion-button class=\"btn-enviar\" (click)=\"enviar()\">\n                    ENVIAR FORMULARIO\n                </ion-button>\n            </ion-col>\n            <ion-col size=\"12\" *ngIf=\"finalized\" class=\"ion-text-center\" >\n                <ion-button class=\"btn-enviar\" (click)=\"backHome()\"  [routerLink]=\"['/principal/inicio']\">\n                    VOLVER AL MENU\n                </ion-button>\n            </ion-col>\n            <ion-col size=\"12\" *ngIf=\"!bandera && !finalized\" class=\"ion-text-center\">\n                <ion-button class=\"btn\" (click)=\"next()\" [disabled]=\"!selected\">\n                    <ion-icon src=\"../../assets/icon/chevron-forward.svg\" style=\"width:35px ;height:34px;position: absolute;\"></ion-icon>\n                </ion-button>\n            </ion-col>\n        </ion-row>\n    </ion-grid>\n</ion-footer>","import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\nimport { Tab3Page } from './tab3.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: Tab3Page,\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class Tab3PageRoutingModule {}\n","/* eslint-disable @typescript-eslint/quotes */\n/* eslint-disable arrow-body-style */\nimport { OnInit,ChangeDetectorRef, Component, ViewChild, ViewEncapsulation } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { RangeCustomEvent, LoadingController } from '@ionic/angular';\nimport SwiperCore ,{SwiperOptions} from 'swiper';\nimport { SwiperComponent } from 'swiper/angular';\nimport PreguntasformArr from '../../assets/datos/DinamicForm.json';\nimport { Help } from '../models/Help';\nimport { FormService } from '../services/form.service';\nexport interface PreguntasForm {\n  key: string;\n  title: string;\n  type: string;\n  preguntas?: Array<OpcForm>;\n}\ninterface OpcForm {\nid: number;\nval: string;\nisChecked?: boolean | false;\n}\n@Component({\n  selector: 'app-tab3',\n  templateUrl: 'tab3.page.html',\n  styleUrls: ['tab3.page.scss'],\n  encapsulation:ViewEncapsulation.None\n})\nexport class Tab3Page implements OnInit {\n@ViewChild('swiper', { static: false }) swiper?: SwiperComponent;\n\npublic dinamicForm: PreguntasForm[] = PreguntasformArr;\npublic help: Help = new Help();\npublic bandera = false;\npublic selected: boolean;\npublic selectedAge: any;\npublic background ='#F4F4F4';\npublic finalized: boolean;\npublic backgroundChecked='#FE910E';\nisckecked: boolean;\npublic config: SwiperOptions ={\n  allowTouchMove:false,\n  autoHeight: true,\n  preventInteractionOnTransition:true,\n  speed: 250,\n  effect: 'fade',\n        fadeEffect: {\n            crossFade: true\n        }\n};\n  constructor(private router: Router,private formService: FormService,\n    private cd: ChangeDetectorRef, private loadingController: LoadingController) {\n  }\n  ngOnInit(){\n\n  }\n ionViewDidEnter() {\n  this.background ='#F4F4F4';\n  this.finalized = false;\n  }\n  next(){\n    this.selected = false;\n    this.swiper.swiperRef.slideNext(500);\n  }\n\n close(){\n  this.selected = false;\n  this.router.navigateByUrl('/principal/inicio');\n}\n//check\n filterItems(arr) {\n  return arr.filter((el) => el).map((e) => e.isChecked).includes(true);\n}\nselect(entry: any, arr?: any,index?: any){\n  if(!this.filterItems(arr.preguntas)){\n        arr.preguntas[index].isChecked= true;\n  }\n  else if(this.filterItems(arr.preguntas)  &&  arr.multiple === true){\n        if(arr.preguntas[index].isChecked){\n          arr.preguntas[index].isChecked = false;\n    }\n    else {\n          arr.preguntas[index].isChecked= true;\n    }\n  }\n  else {\n    arr.preguntas[index].isChecked = false;\n  }\n  this.selected = this.filterItems(arr.preguntas);\n  if((this.swiper.swiperRef.activeIndex === 6)&&(entry.isChecked === true)){\n    this.bandera = true;\n    this.selected = true;\n  } else{ this.bandera = false;}\n\n}\nageRange(ev: Event){\n  this.selectedAge = (ev as RangeCustomEvent).detail.value;\n  this.selected = true;\n}\n\nasync backHome(){\n  const loading = await this.loadingController.create({\n    message: 'Cerrando Formulario...',\n    spinner: 'circles',\n  });\n  await loading.present();\n  await this.clearCheckbox();\n  this.finalized = false;\n  this.swiper.swiperRef.destroy(true, true);\n     loading.dismiss();\n}\nasync enviar(){\n  this.bandera= false;\n  const formTemp = {\n    victim : this.checked(this.dinamicForm[0]),\n    reason: this.checked(this.dinamicForm[1]),\n    agressor: this.checked(this.dinamicForm[2]),\n    agressorGender: this.checked(this.dinamicForm[3]),\n    age: this.selectedAge,\n    gender: this.checked(this.dinamicForm[5]),\n    place: this.checked(this.dinamicForm[6]),\n  };\n  console.log(formTemp);\n  const val = await this.formService.setForm(formTemp);\n  if(val){\n    this.swiper.swiperRef.slideNext(500);\n    this.finalized = true;\n  }else {\n    this.finalized = true;\n  }\n\n}\nonAfterTransitionEnd(){\n  setTimeout(() => {\n    this.background = '#5A4BB2';\n  }, 300);\n}\nchecked(array: any){\n  if(array.multiple === true){\n    return array.preguntas.filter(x=> x.isChecked === true ).map( x => {\n      delete x.isChecked;\n      delete x.id;\n      return x.val;\n  });\n  }\n  else {\n    return array.preguntas.filter(x => x.isChecked === true)[0].val;\n\n    };\n  }\n\n\nasync ionViewWillLeave() {\n  const loading = await this.loadingController.create({\n    message: 'Cerrando Formulario...',\n    spinner: 'circles',\n  });\n  await loading.present();\n  await this.clearCheckbox();\n  this.finalized = false;\n  loading.dismiss();\n  this.background ='#F4F4F4';\n  this.swiper.swiperRef.destroy(true, true);\n}\n\nasync clearCheckbox(){\n  this.dinamicForm.forEach(e =>{\n    if(e.key !== 'edad'){\n      e.preguntas.map( preg =>{\n        preg.isChecked = false;\n      });\n    }\n  });\n}\n\n}\n","import { IonicModule } from '@ionic/angular';\n\nimport { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Tab3Page } from './tab3.page';\nimport { SwiperModule } from 'swiper/angular';\nimport { Tab3PageRoutingModule } from './tab3-routing.module';\n\n@NgModule({\n  imports: [\n    IonicModule,\n    CommonModule,\n    FormsModule,\n    Tab3PageRoutingModule,\n    SwiperModule\n  ],\n  declarations: [Tab3Page]\n})\nexport class Tab3PageModule {}\n"],"x_google_ignoreList":[]}