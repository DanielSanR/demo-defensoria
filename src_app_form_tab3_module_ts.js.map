{"version":3,"file":"src_app_form_tab3_module_ts.js","mappings":"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","sources":["./src/app/form/tab3-routing.module.ts","./src/app/form/tab3.module.ts","./src/app/form/tab3.page.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\nimport { Tab3Page } from './tab3.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: Tab3Page,\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class Tab3PageRoutingModule {}\n","import { IonicModule } from '@ionic/angular';\nimport { RouterModule } from '@angular/router';\nimport { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Tab3Page } from './tab3.page';\nimport { ExploreContainerComponentModule } from '../explore-container/explore-container.module';\nimport { SwiperModule } from 'swiper/angular';\nimport { Tab3PageRoutingModule } from './tab3-routing.module';\n\n@NgModule({\n  imports: [\n    IonicModule,\n    CommonModule,\n    FormsModule,\n    ExploreContainerComponentModule,\n    RouterModule.forChild([{ path: '', component: Tab3Page }]),\n    Tab3PageRoutingModule,\n    SwiperModule\n  ],\n  declarations: [Tab3Page]\n})\nexport class Tab3PageModule {}\n","/* eslint-disable @typescript-eslint/quotes */\n/* eslint-disable arrow-body-style */\nimport { AfterContentChecked, OnInit,AfterViewInit,\n  ChangeDetectorRef, Component, ViewChild, ViewEncapsulation, OnDestroy } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { RangeCustomEvent, LoadingController } from '@ionic/angular';\nimport SwiperCore ,{Pagination, SwiperOptions,EffectCoverflow, Navigation,Manipulation, Swiper} from 'swiper';\nimport { SwiperComponent } from 'swiper/angular';\nimport form from '../../assets/datos/form.json';\nimport { Preguntas } from '../models/Preguntas';\nimport PreguntasformArr from '../../assets/datos/DinamicForm.json';\nimport { map } from 'rxjs/operators';\nimport { Help } from '../models/Help';\nimport { FormService } from '../services/form.service';\n\nexport interface PreguntasForm {\n  key: string;\n  title: string;\n  type: string;\n  preguntas?: Array<OpcForm>;\n}\n\n\ninterface OpcForm {\nid: number;\nval: string;\nisChecked?: boolean | false;\n}\ninterface Form {\n  nombre: string;\n  apellido: string;\n  victima: string;\n  edad: string;\n  genero: string;\n  generoAgresor: string;\n  agresor: string[];\n  castigo: string[];\n  motivo: string[];\n  lugar: string[];\n  ubicacion: string;\n}\n@Component({\n  selector: 'app-tab3',\n  templateUrl: 'tab3.page.html',\n  styleUrls: ['tab3.page.scss'],\n  encapsulation:ViewEncapsulation.None\n})\nexport class Tab3Page implements OnInit {\n@ViewChild('swiper', { static: false }) swiper?: SwiperComponent;\n\npublic dinamicForm: PreguntasForm[] = PreguntasformArr;\npublic help: Help = new Help();\npublic form: Form;\npublic bandera = false;\npublic selected: boolean;\npublic selectedAge: any;\npublic background ='#fff';\npublic finalized: boolean;\npublic backgroundChecked='#FE910E';\nisckecked: boolean;\nconfig: SwiperOptions ={\n  allowTouchMove:false,\n  autoHeight: true,\n  preventInteractionOnTransition:true,\n  speed: 3200\n};\n  constructor(private router: Router,private formService: FormService,\n    private cd: ChangeDetectorRef, private loadingController: LoadingController) {\n  }\n  ngOnInit(){\n    SwiperCore.use([Pagination,EffectCoverflow,Navigation,Manipulation]);\n    this.finalized = false;\n\n  }\n\n  next(){\n    this.selected = false;\n    this.swiper.swiperRef.slideNext(500);\n  }\n\n close(){\n  this.selected = false;\n  this.router.navigateByUrl('/principal/inicio');\n}\n//check\n filterItems(arr) {\n  return arr.filter((el) => el).map((e) => e.isChecked).includes(true);\n}\nselect(entry: any, arr?: any,index?: any){\n  if(!this.filterItems(arr.preguntas)){\n        arr.preguntas[index].isChecked= true;\n  }\n  else if(this.filterItems(arr.preguntas)  &&  arr.multiple === true){\n        if(arr.preguntas[index].isChecked){\n          arr.preguntas[index].isChecked = false;\n    }\n    else {\n          arr.preguntas[index].isChecked= true;\n    }\n  }\n  else {\n    arr.preguntas[index].isChecked = false;\n  }\n  this.selected = this.filterItems(arr.preguntas);\n  if((this.swiper.swiperRef.activeIndex === 6)&&(entry.isChecked === true)){\n    this.bandera = true;\n    this.selected = true;\n  } else{ this.bandera = false;}\n\n}\nageRange(ev: Event){\n  this.selectedAge = (ev as RangeCustomEvent).detail.value;\n  this.selected = true;\n}\n\nasync backHome(){\n  const loading = await this.loadingController.create({\n    message: 'Cerrando Formulario...',\n    spinner: 'circles',\n  });\n  await loading.present();\n  await this.clearCheckbox();\n  this.finalized = false;\n  this.swiper.swiperRef.destroy(true, true);\n     loading.dismiss();\n}\nasync enviar(){\n  this.bandera= false;\n  this.help = {\n    victim : this.checked(this.dinamicForm[0]),\n    reason: this.checked(this.dinamicForm[1]),\n    agressor: this.checked(this.dinamicForm[2]),\n    agressorGender: this.checked(this.dinamicForm[3]),\n    age: this.selectedAge,\n    gender: this.checked(this.dinamicForm[5]),\n    place: this.checked(this.dinamicForm[6]),\n    name: \"\",\n    phone: \"\",\n    email: \"\",\n    address: \"\",\n    latitude: \"\",\n    longitude: \"\",\n  };\n  const val = await this.formService.saveForm(this.help);\n  this.swiper.swiperRef.slideNext(500);\n  this.finalized = true;\n}\nsingleChecked(){\n\n}\nchecked(array: any){\n  if(array.multiple === true){\n    return array.preguntas.filter(x=> x.isChecked === true ).map( x => {\n      delete x.isChecked;\n      delete x.id;\n      return x;\n  });\n  }\n  else {\n    return array.preguntas.filter(x => x.isChecked === true)[0].val;\n\n    };\n  }\n\n\nasync ionViewWillLeave() {\n  const loading = await this.loadingController.create({\n    message: 'Cerrando Formulario...',\n    spinner: 'circles',\n  });\n  await loading.present();\n  await this.clearCheckbox();\n  this.finalized = false;\n  this.swiper.swiperRef.destroy(true, true);\n     loading.dismiss();\n\n}\n\nasync clearCheckbox(){\n  this.dinamicForm.forEach(e =>{\n    if(e.key !== 'edad'){\n      e.preguntas.map( preg =>{\n        preg.isChecked = false;\n      });\n    }\n  });\n}\n\n}\n"],"names":["ChangeDetectorRef","Component","ViewChild","ViewEncapsulation","Router","LoadingController","SwiperCore","Pagination","EffectCoverflow","Navigation","Manipulation","PreguntasformArr","Help","FormService","Tab3Page","constructor","router","formService","cd","loadingController","allowTouchMove","autoHeight","preventInteractionOnTransition","speed","ngOnInit","use","finalized","next","selected","swiper","swiperRef","slideNext","close","navigateByUrl","filterItems","arr","filter","el","map","e","isChecked","includes","select","entry","index","preguntas","multiple","activeIndex","bandera","ageRange","ev","selectedAge","detail","value","backHome","loading","create","message","spinner","present","clearCheckbox","destroy","dismiss","enviar","help","victim","checked","dinamicForm","reason","agressor","agressorGender","age","gender","place","name","phone","email","address","latitude","longitude","val","saveForm","singleChecked","array","x","id","ionViewWillLeave","forEach","key","preg","args","static","selector","template","encapsulation","None"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}