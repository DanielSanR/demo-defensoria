{"version":3,"file":"src_app_onboarding_onboarding_module_ts.js","mappings":"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","sources":["./src/app/onboarding/onboarding-routing.module.ts","./src/app/onboarding/onboarding.module.ts","./src/app/onboarding/onboarding.page.ts","./node_modules/@capacitor/Geolocation/dist/esm/index.js","./node_modules/@capacitor/core/dist/index.js","./node_modules/esri-leaflet-geocoder/dist/esri-leaflet-geocoder-debug.js"],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { OnboardingPage } from './onboarding.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: OnboardingPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class OnboardingPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { OnboardingPageRoutingModule } from './onboarding-routing.module';\n\nimport { OnboardingPage } from './onboarding.page';\nimport { SwiperModule } from 'swiper/angular';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    OnboardingPageRoutingModule,\n    SwiperModule\n  ],\n  declarations: [OnboardingPage]\n})\nexport class OnboardingPageModule {}\n","import { Component, OnInit, ViewChild, ChangeDetectorRef,OnDestroy } from '@angular/core';\nimport SwiperCore ,{Pagination, Autoplay,SwiperOptions,EffectFade, Navigation, Swiper} from 'swiper';\nimport { SwiperComponent } from 'swiper/angular';\nimport { Router } from '@angular/router';\nimport { Geolocation } from '@capacitor/Geolocation';\nimport * as ELG from 'esri-leaflet-geocoder';\nimport { AlertController } from '@ionic/angular';\nimport { StorageService } from '../services/storage.service';\nSwiperCore.use([Pagination,Navigation,Autoplay,EffectFade]);\n\n@Component({\n  selector: 'app-onboarding',\n  templateUrl: './onboarding.page.html',\n  styleUrls: ['./onboarding.page.scss'],\n})\nexport class OnboardingPage implements OnInit,OnDestroy {\n  @ViewChild('swiper', { static: false }) swiper?: SwiperComponent;\n  public background;\n  key = 'AAPK895f48d83b5543ab80c5d058d510d5971uhYgfFtvdNCIB-no6TgvFEbUE-H-h6ZfPfs9GOWCpAtsp9cTGA8zFsd2DiPWwPf';\n  result: string;\n  selected: string;\n  latitude: any;\n  longitude: any;\n  accuracy: any;\n  public config: SwiperOptions ={\n    allowTouchMove:false,\n    keyboard:true,\n     pagination:{\n      type: 'progressbar'\n    },\n    effect: 'fade',\n        fadeEffect: {\n            crossFade: true\n        },\n        autoplay: {\n          delay: 100000,\n        },\n  };\n  constructor(private router: Router, private cd: ChangeDetectorRef,\n    private alertController: AlertController,private storageService: StorageService\n) { }\n\n  ngOnInit() {\n    this.background = '#F4F4F4';\n  }\n\n\n  next(){\n    this.swiper.swiperRef.slideNext(500);\n  }\n\n  async getLocation(){\n    const alert = await this.alertController.create({\n      header: 'Permisos necesarios',\n      message: 'Para poder brindarte una mejor experiencia, necesitamos que nos permitas acceder a tu ubicacin',\n      buttons: ['OK'],\n    });\n\n    await Geolocation.getCurrentPosition({ enableHighAccuracy: true }).then((resp: any ) => {\n      console.log(resp);\n        this.latitude = resp.coords.latitude;\n        this.longitude = resp.coords.longitude;\n        this.swiper.swiperRef.slideNext(500);\n    }).catch((error) => {\n        (async ()=>{\n          await alert.present();\n        })();\n    });\n       const ltlng = await this.storageService.setStorage('latlng',[this.latitude,this.longitude]);\n      new ELG.reverseGeocode({\n        apikey: this.key\n      }).latlng([this.latitude,this.longitude]).run((error, result, response)=>{\n      });\n      }\n\n  async save(){\n    if(this.selected!== null){\n      await this.storageService.setStorage('selected',this.selected) ;\n      await this.storageService.setOnboarding();\n      this.router.navigate(['/principal/inicio']);\n    }\n  }\n\n  select(event: any){\n    console.log(event);\n    this.selected = event;\n  }\n  skip(){\n    this.swiper.swiperRef.slideNext(500);\n  }\n\n  ngOnDestroy(){\n    this.swiper.swiperRef.destroy();\n  }\n\n  onAfterTransition() {\n    if(this.swiper.swiperRef.activeIndex === 2){\n      this.background ='url(\"../../assets/images/kid-teen.svg\") no-repeat center center / cover';\n    }\n  }\n}\n","import { registerPlugin } from '@capacitor/core';\nconst Geolocation = registerPlugin('Geolocation', {\n    web: () => import('./web').then(m => new m.GeolocationWeb()),\n});\nexport * from './definitions';\nexport { Geolocation };\n","/*! Capacitor: https://capacitorjs.com/ - MIT License */\nconst createCapacitorPlatforms = (win) => {\n    const defaultPlatformMap = new Map();\n    defaultPlatformMap.set('web', { name: 'web' });\n    const capPlatforms = win.CapacitorPlatforms || {\n        currentPlatform: { name: 'web' },\n        platforms: defaultPlatformMap,\n    };\n    const addPlatform = (name, platform) => {\n        capPlatforms.platforms.set(name, platform);\n    };\n    const setPlatform = (name) => {\n        if (capPlatforms.platforms.has(name)) {\n            capPlatforms.currentPlatform = capPlatforms.platforms.get(name);\n        }\n    };\n    capPlatforms.addPlatform = addPlatform;\n    capPlatforms.setPlatform = setPlatform;\n    return capPlatforms;\n};\nconst initPlatforms = (win) => (win.CapacitorPlatforms = createCapacitorPlatforms(win));\n/**\n * @deprecated Set `CapacitorCustomPlatform` on the window object prior to runtime executing in the web app instead\n */\nconst CapacitorPlatforms = /*#__PURE__*/ initPlatforms((typeof globalThis !== 'undefined'\n    ? globalThis\n    : typeof self !== 'undefined'\n        ? self\n        : typeof window !== 'undefined'\n            ? window\n            : typeof global !== 'undefined'\n                ? global\n                : {}));\n/**\n * @deprecated Set `CapacitorCustomPlatform` on the window object prior to runtime executing in the web app instead\n */\nconst addPlatform = CapacitorPlatforms.addPlatform;\n/**\n * @deprecated Set `CapacitorCustomPlatform` on the window object prior to runtime executing in the web app instead\n */\nconst setPlatform = CapacitorPlatforms.setPlatform;\n\nconst legacyRegisterWebPlugin = (cap, webPlugin) => {\n    var _a;\n    const config = webPlugin.config;\n    const Plugins = cap.Plugins;\n    if (!config || !config.name) {\n        // TODO: add link to upgrade guide\n        throw new Error(`Capacitor WebPlugin is using the deprecated \"registerWebPlugin()\" function, but without the config. Please use \"registerPlugin()\" instead to register this web plugin.\"`);\n    }\n    // TODO: add link to upgrade guide\n    console.warn(`Capacitor plugin \"${config.name}\" is using the deprecated \"registerWebPlugin()\" function`);\n    if (!Plugins[config.name] || ((_a = config === null || config === void 0 ? void 0 : config.platforms) === null || _a === void 0 ? void 0 : _a.includes(cap.getPlatform()))) {\n        // Add the web plugin into the plugins registry if there already isn't\n        // an existing one. If it doesn't already exist, that means\n        // there's no existing native implementation for it.\n        // - OR -\n        // If we already have a plugin registered (meaning it was defined in the native layer),\n        // then we should only overwrite it if the corresponding web plugin activates on\n        // a certain platform. For example: Geolocation uses the WebPlugin on Android but not iOS\n        Plugins[config.name] = webPlugin;\n    }\n};\n\nvar ExceptionCode;\n(function (ExceptionCode) {\n    /**\n     * API is not implemented.\n     *\n     * This usually means the API can't be used because it is not implemented for\n     * the current platform.\n     */\n    ExceptionCode[\"Unimplemented\"] = \"UNIMPLEMENTED\";\n    /**\n     * API is not available.\n     *\n     * This means the API can't be used right now because:\n     *   - it is currently missing a prerequisite, such as network connectivity\n     *   - it requires a particular platform or browser version\n     */\n    ExceptionCode[\"Unavailable\"] = \"UNAVAILABLE\";\n})(ExceptionCode || (ExceptionCode = {}));\nclass CapacitorException extends Error {\n    constructor(message, code) {\n        super(message);\n        this.message = message;\n        this.code = code;\n    }\n}\nconst getPlatformId = (win) => {\n    var _a, _b;\n    if (win === null || win === void 0 ? void 0 : win.androidBridge) {\n        return 'android';\n    }\n    else if ((_b = (_a = win === null || win === void 0 ? void 0 : win.webkit) === null || _a === void 0 ? void 0 : _a.messageHandlers) === null || _b === void 0 ? void 0 : _b.bridge) {\n        return 'ios';\n    }\n    else {\n        return 'web';\n    }\n};\n\nconst createCapacitor = (win) => {\n    var _a, _b, _c, _d, _e;\n    const capCustomPlatform = win.CapacitorCustomPlatform || null;\n    const cap = win.Capacitor || {};\n    const Plugins = (cap.Plugins = cap.Plugins || {});\n    /**\n     * @deprecated Use `capCustomPlatform` instead, default functions like registerPlugin will function with the new object.\n     */\n    const capPlatforms = win.CapacitorPlatforms;\n    const defaultGetPlatform = () => {\n        return capCustomPlatform !== null\n            ? capCustomPlatform.name\n            : getPlatformId(win);\n    };\n    const getPlatform = ((_a = capPlatforms === null || capPlatforms === void 0 ? void 0 : capPlatforms.currentPlatform) === null || _a === void 0 ? void 0 : _a.getPlatform) || defaultGetPlatform;\n    const defaultIsNativePlatform = () => getPlatform() !== 'web';\n    const isNativePlatform = ((_b = capPlatforms === null || capPlatforms === void 0 ? void 0 : capPlatforms.currentPlatform) === null || _b === void 0 ? void 0 : _b.isNativePlatform) || defaultIsNativePlatform;\n    const defaultIsPluginAvailable = (pluginName) => {\n        const plugin = registeredPlugins.get(pluginName);\n        if (plugin === null || plugin === void 0 ? void 0 : plugin.platforms.has(getPlatform())) {\n            // JS implementation available for the current platform.\n            return true;\n        }\n        if (getPluginHeader(pluginName)) {\n            // Native implementation available.\n            return true;\n        }\n        return false;\n    };\n    const isPluginAvailable = ((_c = capPlatforms === null || capPlatforms === void 0 ? void 0 : capPlatforms.currentPlatform) === null || _c === void 0 ? void 0 : _c.isPluginAvailable) ||\n        defaultIsPluginAvailable;\n    const defaultGetPluginHeader = (pluginName) => { var _a; return (_a = cap.PluginHeaders) === null || _a === void 0 ? void 0 : _a.find(h => h.name === pluginName); };\n    const getPluginHeader = ((_d = capPlatforms === null || capPlatforms === void 0 ? void 0 : capPlatforms.currentPlatform) === null || _d === void 0 ? void 0 : _d.getPluginHeader) || defaultGetPluginHeader;\n    const handleError = (err) => win.console.error(err);\n    const pluginMethodNoop = (_target, prop, pluginName) => {\n        return Promise.reject(`${pluginName} does not have an implementation of \"${prop}\".`);\n    };\n    const registeredPlugins = new Map();\n    const defaultRegisterPlugin = (pluginName, jsImplementations = {}) => {\n        const registeredPlugin = registeredPlugins.get(pluginName);\n        if (registeredPlugin) {\n            console.warn(`Capacitor plugin \"${pluginName}\" already registered. Cannot register plugins twice.`);\n            return registeredPlugin.proxy;\n        }\n        const platform = getPlatform();\n        const pluginHeader = getPluginHeader(pluginName);\n        let jsImplementation;\n        const loadPluginImplementation = async () => {\n            if (!jsImplementation && platform in jsImplementations) {\n                jsImplementation =\n                    typeof jsImplementations[platform] === 'function'\n                        ? (jsImplementation = await jsImplementations[platform]())\n                        : (jsImplementation = jsImplementations[platform]);\n            }\n            else if (capCustomPlatform !== null &&\n                !jsImplementation &&\n                'web' in jsImplementations) {\n                jsImplementation =\n                    typeof jsImplementations['web'] === 'function'\n                        ? (jsImplementation = await jsImplementations['web']())\n                        : (jsImplementation = jsImplementations['web']);\n            }\n            return jsImplementation;\n        };\n        const createPluginMethod = (impl, prop) => {\n            var _a, _b;\n            if (pluginHeader) {\n                const methodHeader = pluginHeader === null || pluginHeader === void 0 ? void 0 : pluginHeader.methods.find(m => prop === m.name);\n                if (methodHeader) {\n                    if (methodHeader.rtype === 'promise') {\n                        return (options) => cap.nativePromise(pluginName, prop.toString(), options);\n                    }\n                    else {\n                        return (options, callback) => cap.nativeCallback(pluginName, prop.toString(), options, callback);\n                    }\n                }\n                else if (impl) {\n                    return (_a = impl[prop]) === null || _a === void 0 ? void 0 : _a.bind(impl);\n                }\n            }\n            else if (impl) {\n                return (_b = impl[prop]) === null || _b === void 0 ? void 0 : _b.bind(impl);\n            }\n            else {\n                throw new CapacitorException(`\"${pluginName}\" plugin is not implemented on ${platform}`, ExceptionCode.Unimplemented);\n            }\n        };\n        const createPluginMethodWrapper = (prop) => {\n            let remove;\n            const wrapper = (...args) => {\n                const p = loadPluginImplementation().then(impl => {\n                    const fn = createPluginMethod(impl, prop);\n                    if (fn) {\n                        const p = fn(...args);\n                        remove = p === null || p === void 0 ? void 0 : p.remove;\n                        return p;\n                    }\n                    else {\n                        throw new CapacitorException(`\"${pluginName}.${prop}()\" is not implemented on ${platform}`, ExceptionCode.Unimplemented);\n                    }\n                });\n                if (prop === 'addListener') {\n                    p.remove = async () => remove();\n                }\n                return p;\n            };\n            // Some flair \n            wrapper.toString = () => `${prop.toString()}() { [capacitor code] }`;\n            Object.defineProperty(wrapper, 'name', {\n                value: prop,\n                writable: false,\n                configurable: false,\n            });\n            return wrapper;\n        };\n        const addListener = createPluginMethodWrapper('addListener');\n        const removeListener = createPluginMethodWrapper('removeListener');\n        const addListenerNative = (eventName, callback) => {\n            const call = addListener({ eventName }, callback);\n            const remove = async () => {\n                const callbackId = await call;\n                removeListener({\n                    eventName,\n                    callbackId,\n                }, callback);\n            };\n            const p = new Promise(resolve => call.then(() => resolve({ remove })));\n            p.remove = async () => {\n                console.warn(`Using addListener() without 'await' is deprecated.`);\n                await remove();\n            };\n            return p;\n        };\n        const proxy = new Proxy({}, {\n            get(_, prop) {\n                switch (prop) {\n                    // https://github.com/facebook/react/issues/20030\n                    case '$$typeof':\n                        return undefined;\n                    case 'toJSON':\n                        return () => ({});\n                    case 'addListener':\n                        return pluginHeader ? addListenerNative : addListener;\n                    case 'removeListener':\n                        return removeListener;\n                    default:\n                        return createPluginMethodWrapper(prop);\n                }\n            },\n        });\n        Plugins[pluginName] = proxy;\n        registeredPlugins.set(pluginName, {\n            name: pluginName,\n            proxy,\n            platforms: new Set([\n                ...Object.keys(jsImplementations),\n                ...(pluginHeader ? [platform] : []),\n            ]),\n        });\n        return proxy;\n    };\n    const registerPlugin = ((_e = capPlatforms === null || capPlatforms === void 0 ? void 0 : capPlatforms.currentPlatform) === null || _e === void 0 ? void 0 : _e.registerPlugin) || defaultRegisterPlugin;\n    // Add in convertFileSrc for web, it will already be available in native context\n    if (!cap.convertFileSrc) {\n        cap.convertFileSrc = filePath => filePath;\n    }\n    cap.getPlatform = getPlatform;\n    cap.handleError = handleError;\n    cap.isNativePlatform = isNativePlatform;\n    cap.isPluginAvailable = isPluginAvailable;\n    cap.pluginMethodNoop = pluginMethodNoop;\n    cap.registerPlugin = registerPlugin;\n    cap.Exception = CapacitorException;\n    cap.DEBUG = !!cap.DEBUG;\n    cap.isLoggingEnabled = !!cap.isLoggingEnabled;\n    // Deprecated props\n    cap.platform = cap.getPlatform();\n    cap.isNative = cap.isNativePlatform();\n    return cap;\n};\nconst initCapacitorGlobal = (win) => (win.Capacitor = createCapacitor(win));\n\nconst Capacitor = /*#__PURE__*/ initCapacitorGlobal(typeof globalThis !== 'undefined'\n    ? globalThis\n    : typeof self !== 'undefined'\n        ? self\n        : typeof window !== 'undefined'\n            ? window\n            : typeof global !== 'undefined'\n                ? global\n                : {});\nconst registerPlugin = Capacitor.registerPlugin;\n/**\n * @deprecated Provided for backwards compatibility for Capacitor v2 plugins.\n * Capacitor v3 plugins should import the plugin directly. This \"Plugins\"\n * export is deprecated in v3, and will be removed in v4.\n */\nconst Plugins = Capacitor.Plugins;\n/**\n * Provided for backwards compatibility. Use the registerPlugin() API\n * instead, and provide the web plugin as the \"web\" implmenetation.\n * For example\n *\n * export const Example = registerPlugin('Example', {\n *   web: () => import('./web').then(m => new m.Example())\n * })\n *\n * @deprecated Deprecated in v3, will be removed from v4.\n */\nconst registerWebPlugin = (plugin) => legacyRegisterWebPlugin(Capacitor, plugin);\n\n/**\n * Base class web plugins should extend.\n */\nclass WebPlugin {\n    constructor(config) {\n        this.listeners = {};\n        this.windowListeners = {};\n        if (config) {\n            // TODO: add link to upgrade guide\n            console.warn(`Capacitor WebPlugin \"${config.name}\" config object was deprecated in v3 and will be removed in v4.`);\n            this.config = config;\n        }\n    }\n    addListener(eventName, listenerFunc) {\n        const listeners = this.listeners[eventName];\n        if (!listeners) {\n            this.listeners[eventName] = [];\n        }\n        this.listeners[eventName].push(listenerFunc);\n        // If we haven't added a window listener for this event and it requires one,\n        // go ahead and add it\n        const windowListener = this.windowListeners[eventName];\n        if (windowListener && !windowListener.registered) {\n            this.addWindowListener(windowListener);\n        }\n        const remove = async () => this.removeListener(eventName, listenerFunc);\n        const p = Promise.resolve({ remove });\n        Object.defineProperty(p, 'remove', {\n            value: async () => {\n                console.warn(`Using addListener() without 'await' is deprecated.`);\n                await remove();\n            },\n        });\n        return p;\n    }\n    async removeAllListeners() {\n        this.listeners = {};\n        for (const listener in this.windowListeners) {\n            this.removeWindowListener(this.windowListeners[listener]);\n        }\n        this.windowListeners = {};\n    }\n    notifyListeners(eventName, data) {\n        const listeners = this.listeners[eventName];\n        if (listeners) {\n            listeners.forEach(listener => listener(data));\n        }\n    }\n    hasListeners(eventName) {\n        return !!this.listeners[eventName].length;\n    }\n    registerWindowListener(windowEventName, pluginEventName) {\n        this.windowListeners[pluginEventName] = {\n            registered: false,\n            windowEventName,\n            pluginEventName,\n            handler: event => {\n                this.notifyListeners(pluginEventName, event);\n            },\n        };\n    }\n    unimplemented(msg = 'not implemented') {\n        return new Capacitor.Exception(msg, ExceptionCode.Unimplemented);\n    }\n    unavailable(msg = 'not available') {\n        return new Capacitor.Exception(msg, ExceptionCode.Unavailable);\n    }\n    async removeListener(eventName, listenerFunc) {\n        const listeners = this.listeners[eventName];\n        if (!listeners) {\n            return;\n        }\n        const index = listeners.indexOf(listenerFunc);\n        this.listeners[eventName].splice(index, 1);\n        // If there are no more listeners for this type of event,\n        // remove the window listener\n        if (!this.listeners[eventName].length) {\n            this.removeWindowListener(this.windowListeners[eventName]);\n        }\n    }\n    addWindowListener(handle) {\n        window.addEventListener(handle.windowEventName, handle.handler);\n        handle.registered = true;\n    }\n    removeWindowListener(handle) {\n        if (!handle) {\n            return;\n        }\n        window.removeEventListener(handle.windowEventName, handle.handler);\n        handle.registered = false;\n    }\n}\n\nconst WebView = /*#__PURE__*/ registerPlugin('WebView');\n\nexport { Capacitor, CapacitorException, CapacitorPlatforms, ExceptionCode, Plugins, WebPlugin, WebView, addPlatform, registerPlugin, registerWebPlugin, setPlatform };\n","/* esri-leaflet-geocoder - v3.1.3 - Fri Apr 08 2022 10:06:56 GMT-0500 (Central Daylight Time)\n * Copyright (c) 2022 Environmental Systems Research Institute, Inc.\n * Apache-2.0 */\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, require('leaflet'), require('esri-leaflet')) :\n  typeof define === 'function' && define.amd ? define(['exports', 'leaflet', 'esri-leaflet'], factory) :\n  (global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory((global.L = global.L || {}, global.L.esri = global.L.esri || {}, global.L.esri.Geocoding = {}), global.L, global.L.esri));\n})(this, (function (exports, leaflet, esriLeaflet) { 'use strict';\n\n  var version = \"3.1.3\";\n\n  var WorldGeocodingServiceUrl = 'https://geocode-api.arcgis.com/arcgis/rest/services/World/GeocodeServer/';\n\n  var Geocode = esriLeaflet.Task.extend({\r\n    path: 'findAddressCandidates',\r\n\r\n    params: {\r\n      outSr: 4326,\r\n      forStorage: false,\r\n      outFields: '*',\r\n      maxLocations: 20\r\n    },\r\n\r\n    setters: {\r\n      address: 'address',\r\n      neighborhood: 'neighborhood',\r\n      city: 'city',\r\n      subregion: 'subregion',\r\n      region: 'region',\r\n      postal: 'postal',\r\n      country: 'country',\r\n      text: 'singleLine',\r\n      category: 'category',\r\n      token: 'token',\r\n      apikey: 'apikey',\r\n      key: 'magicKey',\r\n      fields: 'outFields',\r\n      forStorage: 'forStorage',\r\n      maxLocations: 'maxLocations',\r\n      // World Geocoding Service (only works with singleLine)\r\n      countries: 'sourceCountry'\r\n    },\r\n\r\n    initialize: function (options) {\r\n      options = options || {};\r\n      options.url = options.url || WorldGeocodingServiceUrl;\r\n      esriLeaflet.Task.prototype.initialize.call(this, options);\r\n    },\r\n\r\n    within: function (bounds) {\r\n      bounds = leaflet.latLngBounds(bounds);\r\n      this.params.searchExtent = esriLeaflet.Util.boundsToExtent(bounds);\r\n      return this;\r\n    },\r\n\r\n    nearby: function (coords, radius) {\r\n      var centroid = leaflet.latLng(coords);\r\n      this.params.location = centroid.lng + ',' + centroid.lat;\r\n      if (radius) {\r\n        this.params.distance = Math.min(Math.max(radius, 2000), 50000);\r\n      }\r\n      return this;\r\n    },\r\n\r\n    run: function (callback, context) {\r\n      if (this.options.token) {\r\n        this.params.token = this.options.token;\r\n      }\r\n      if (this.options.apikey) {\r\n        this.params.token = this.options.apikey;\r\n      }\r\n      if (this.options.customParam) {\r\n        this.params[this.options.customParam] = this.params.singleLine;\r\n        delete this.params.singleLine;\r\n      }\r\n\r\n      return this.request(function (error, response) {\r\n        var processor = this._processGeocoderResponse;\r\n        var results = (!error) ? processor(response) : undefined;\r\n        callback.call(context, error, { results: results }, response);\r\n      }, this);\r\n    },\r\n\r\n    _processGeocoderResponse: function (response) {\r\n      var results = [];\r\n\r\n      for (var i = 0; i < response.candidates.length; i++) {\r\n        var candidate = response.candidates[i];\r\n        if (candidate.extent) {\r\n          var bounds = esriLeaflet.Util.extentToBounds(candidate.extent);\r\n        }\r\n\r\n        results.push({\r\n          text: candidate.address,\r\n          bounds: bounds,\r\n          score: candidate.score,\r\n          latlng: leaflet.latLng(candidate.location.y, candidate.location.x),\r\n          properties: candidate.attributes\r\n        });\r\n      }\r\n      return results;\r\n    }\r\n  });\r\n\r\n  function geocode (options) {\r\n    return new Geocode(options);\r\n  }\n\n  var ReverseGeocode = esriLeaflet.Task.extend({\r\n    path: 'reverseGeocode',\r\n\r\n    params: {\r\n      outSR: 4326,\r\n      returnIntersection: false\r\n    },\r\n\r\n    setters: {\r\n      distance: 'distance',\r\n      language: 'langCode',\r\n      intersection: 'returnIntersection',\r\n      apikey: 'apikey'\r\n    },\r\n\r\n    initialize: function (options) {\r\n      options = options || {};\r\n      options.url = options.url || WorldGeocodingServiceUrl;\r\n      esriLeaflet.Task.prototype.initialize.call(this, options);\r\n    },\r\n\r\n    latlng: function (coords) {\r\n      var centroid = leaflet.latLng(coords);\r\n      this.params.location = centroid.lng + ',' + centroid.lat;\r\n      return this;\r\n    },\r\n\r\n    run: function (callback, context) {\r\n      if (this.options.token) {\r\n        this.params.token = this.options.token;\r\n      }\r\n      if (this.options.apikey) {\r\n        this.params.token = this.options.apikey;\r\n      }\r\n      return this.request(function (error, response) {\r\n        var result;\r\n\r\n        if (!error) {\r\n          result = {\r\n            latlng: leaflet.latLng(response.location.y, response.location.x),\r\n            address: response.address\r\n          };\r\n        } else {\r\n          result = undefined;\r\n        }\r\n\r\n        callback.call(context, error, result, response);\r\n      }, this);\r\n    }\r\n  });\r\n\r\n  function reverseGeocode (options) {\r\n    return new ReverseGeocode(options);\r\n  }\n\n  var Suggest = esriLeaflet.Task.extend({\r\n    path: 'suggest',\r\n\r\n    params: {},\r\n\r\n    setters: {\r\n      text: 'text',\r\n      category: 'category',\r\n      countries: 'countryCode',\r\n      maxSuggestions: 'maxSuggestions'\r\n    },\r\n\r\n    initialize: function (options) {\r\n      options = options || {};\r\n      if (!options.url) {\r\n        options.url = WorldGeocodingServiceUrl;\r\n        options.supportsSuggest = true;\r\n      }\r\n      esriLeaflet.Task.prototype.initialize.call(this, options);\r\n    },\r\n\r\n    within: function (bounds) {\r\n      bounds = leaflet.latLngBounds(bounds);\r\n      var center = bounds.getCenter();\r\n      var ne = bounds.getNorthWest();\r\n      this.params.location = center.lng + ',' + center.lat;\r\n      this.params.distance = Math.min(Math.max(center.distanceTo(ne), 2000), 50000);\r\n      this.params.searchExtent = esriLeaflet.Util.boundsToExtent(bounds);\r\n      return this;\r\n    },\r\n\r\n    nearby: function (coords, radius) {\r\n      var centroid = leaflet.latLng(coords);\r\n      this.params.location = centroid.lng + ',' + centroid.lat;\r\n      if (radius) {\r\n        this.params.distance = Math.min(Math.max(radius, 2000), 50000);\r\n      }\r\n      return this;\r\n    },\r\n\r\n    run: function (callback, context) {\r\n      if (this.options.supportsSuggest) {\r\n        return this.request(function (error, response) {\r\n          callback.call(context, error, response, response);\r\n        }, this);\r\n      } else {\r\n        console.warn('this geocoding service does not support asking for suggestions');\r\n      }\r\n    }\r\n\r\n  });\r\n\r\n  function suggest (options) {\r\n    return new Suggest(options);\r\n  }\n\n  var GeocodeService = esriLeaflet.Service.extend({\r\n    initialize: function (options) {\r\n      options = options || {};\r\n      if (options.apikey) {\r\n        options.token = options.apikey;\r\n      }\r\n      if (options.url) {\r\n        esriLeaflet.Service.prototype.initialize.call(this, options);\r\n        this._confirmSuggestSupport();\r\n      } else {\r\n        options.url = WorldGeocodingServiceUrl;\r\n        options.supportsSuggest = true;\r\n        esriLeaflet.Service.prototype.initialize.call(this, options);\r\n      }\r\n    },\r\n\r\n    geocode: function () {\r\n      return geocode(this);\r\n    },\r\n\r\n    reverse: function () {\r\n      return reverseGeocode(this);\r\n    },\r\n\r\n    suggest: function () {\r\n      // requires either the Esri World Geocoding Service or a <10.3 ArcGIS Server Geocoding Service that supports suggest.\r\n      return suggest(this);\r\n    },\r\n\r\n    _confirmSuggestSupport: function () {\r\n      this.metadata(function (error, response) {\r\n        if (error) { return; }\r\n        // pre 10.3 geocoding services dont list capabilities (and dont support maxLocations)\r\n        // only SOME individual services have been configured to support asking for suggestions\r\n        if (!response.capabilities) {\r\n          this.options.supportsSuggest = false;\r\n        } else if (response.capabilities.indexOf('Suggest') > -1) {\r\n          this.options.supportsSuggest = true;\r\n        } else {\r\n          this.options.supportsSuggest = false;\r\n        }\r\n        // whether the service supports suggest or not, utilize the metadata response to determine the appropriate parameter name for single line geocoding requests\r\n        this.options.customParam = response.singleLineAddressField.name;\r\n      }, this);\r\n    }\r\n  });\r\n\r\n  function geocodeService (options) {\r\n    return new GeocodeService(options);\r\n  }\n\n  var GeosearchCore = leaflet.Evented.extend({\r\n\r\n    options: {\r\n      zoomToResult: true,\r\n      useMapBounds: 12,\r\n      searchBounds: null\r\n    },\r\n\r\n    initialize: function (control, options) {\r\n      leaflet.Util.setOptions(this, options);\r\n      this._control = control;\r\n\r\n      if (!options || !options.providers || !options.providers.length) {\r\n        throw new Error('You must specify at least one provider');\r\n      }\r\n\r\n      this._providers = options.providers;\r\n    },\r\n\r\n    _geocode: function (text, key, provider) {\r\n      var activeRequests = 0;\r\n      var allResults = [];\r\n      var bounds;\r\n\r\n      var callback = leaflet.Util.bind(function (error, results) {\r\n        activeRequests--;\r\n        if (error) {\r\n          return;\r\n        }\r\n\r\n        if (results) {\r\n          allResults = allResults.concat(results);\r\n        }\r\n\r\n        if (activeRequests <= 0) {\r\n          bounds = this._boundsFromResults(allResults);\r\n\r\n          this.fire('results', {\r\n            results: allResults,\r\n            bounds: bounds,\r\n            latlng: (bounds) ? bounds.getCenter() : undefined,\r\n            text: text\r\n          }, true);\r\n\r\n          if (this.options.zoomToResult && bounds) {\r\n            this._control._map.fitBounds(bounds);\r\n          }\r\n\r\n          this.fire('load');\r\n        }\r\n      }, this);\r\n\r\n      if (key) {\r\n        activeRequests++;\r\n        provider.results(text, key, this._searchBounds(), callback);\r\n      } else {\r\n        for (var i = 0; i < this._providers.length; i++) {\r\n          activeRequests++;\r\n          this._providers[i].results(text, key, this._searchBounds(), callback);\r\n        }\r\n      }\r\n    },\r\n\r\n    _suggest: function (text) {\r\n      var activeRequests = this._providers.length;\r\n      var suggestionsLength = 0;\r\n\r\n      var createCallback = leaflet.Util.bind(function (text, provider) {\r\n        return leaflet.Util.bind(function (error, suggestions) {\r\n          activeRequests = activeRequests - 1;\r\n          suggestionsLength += suggestions.length;\r\n\r\n          if (error) {\r\n            // an error occurred for one of the providers' suggest requests\r\n            this._control._clearProviderSuggestions(provider);\r\n\r\n            // perform additional cleanup when all requests are finished\r\n            this._control._finalizeSuggestions(activeRequests, suggestionsLength);\r\n\r\n            return;\r\n          }\r\n\r\n          if (suggestions.length) {\r\n            for (var i = 0; i < suggestions.length; i++) {\r\n              suggestions[i].provider = provider;\r\n            }\r\n          } else {\r\n            // we still need to update the UI\r\n            this._control._renderSuggestions(suggestions);\r\n          }\r\n\r\n          if (provider._lastRender !== text) {\r\n            this._control._clearProviderSuggestions(provider);\r\n          }\r\n\r\n          if (suggestions.length && this._control._input.value === text) {\r\n            provider._lastRender = text;\r\n            this._control._renderSuggestions(suggestions);\r\n          }\r\n\r\n          // perform additional cleanup when all requests are finished\r\n          this._control._finalizeSuggestions(activeRequests, suggestionsLength);\r\n        }, this);\r\n      }, this);\r\n\r\n      this._pendingSuggestions = [];\r\n\r\n      for (var i = 0; i < this._providers.length; i++) {\r\n        var provider = this._providers[i];\r\n        var request = provider.suggestions(text, this._searchBounds(), createCallback(text, provider));\r\n        this._pendingSuggestions.push(request);\r\n      }\r\n    },\r\n\r\n    _searchBounds: function () {\r\n      if (this.options.searchBounds !== null) {\r\n        return this.options.searchBounds;\r\n      }\r\n\r\n      if (this.options.useMapBounds === false) {\r\n        return null;\r\n      }\r\n\r\n      if (this.options.useMapBounds === true) {\r\n        return this._control._map.getBounds();\r\n      }\r\n\r\n      if (this.options.useMapBounds <= this._control._map.getZoom()) {\r\n        return this._control._map.getBounds();\r\n      }\r\n\r\n      return null;\r\n    },\r\n\r\n    _boundsFromResults: function (results) {\r\n      if (!results.length) {\r\n        return;\r\n      }\r\n\r\n      var nullIsland = leaflet.latLngBounds([0, 0], [0, 0]);\r\n      var resultBounds = [];\r\n      var resultLatlngs = [];\r\n\r\n      // collect the bounds and center of each result\r\n      for (var i = results.length - 1; i >= 0; i--) {\r\n        var result = results[i];\r\n\r\n        resultLatlngs.push(result.latlng);\r\n\r\n        // make sure bounds are valid and not 0,0. sometimes bounds are incorrect or not present\r\n        if (result.bounds && result.bounds.isValid() && !result.bounds.equals(nullIsland)) {\r\n          resultBounds.push(result.bounds);\r\n        }\r\n      }\r\n\r\n      // form a bounds object containing all center points\r\n      var bounds = leaflet.latLngBounds(resultLatlngs);\r\n\r\n      // and extend it to contain all bounds objects\r\n      for (var j = 0; j < resultBounds.length; j++) {\r\n        bounds.extend(resultBounds[j]);\r\n      }\r\n\r\n      return bounds;\r\n    },\r\n\r\n    _getAttribution: function () {\r\n      var attribs = [];\r\n      var providers = this._providers;\r\n\r\n      for (var i = 0; i < providers.length; i++) {\r\n        if (providers[i].options.attribution) {\r\n          attribs.push(providers[i].options.attribution);\r\n        }\r\n      }\r\n\r\n      return attribs.join(', ');\r\n    }\r\n\r\n  });\r\n\r\n  function geosearchCore (control, options) {\r\n    return new GeosearchCore(control, options);\r\n  }\n\n  var ArcgisOnlineProvider = GeocodeService.extend({\r\n    options: {\r\n      label: 'Places and Addresses',\r\n      maxResults: 5\r\n    },\r\n\r\n    suggestions: function (text, bounds, callback) {\r\n      var request = this.suggest().text(text);\r\n\r\n      if (bounds) {\r\n        request.within(bounds);\r\n      }\r\n\r\n      if (this.options.nearby) {\r\n        // \"distance\"/\"radius\" is not supported by the ArcGIS Online Geocoder,\r\n        // so that is intentionally not passed here:\r\n        request.nearby(this.options.nearby);\r\n      }\r\n\r\n      if (this.options.countries) {\r\n        request.countries(this.options.countries);\r\n      }\r\n\r\n      if (this.options.categories) {\r\n        request.category(this.options.categories);\r\n      }\r\n\r\n      // 15 is the maximum number of suggestions that can be returned\r\n      request.maxSuggestions(this.options.maxResults);\r\n\r\n      return request.run(function (error, results, response) {\r\n        var suggestions = [];\r\n        if (!error) {\r\n          while (response.suggestions.length && suggestions.length <= (this.options.maxResults - 1)) {\r\n            var suggestion = response.suggestions.shift();\r\n            if (!suggestion.isCollection) {\r\n              suggestions.push({\r\n                text: suggestion.text,\r\n                unformattedText: suggestion.text,\r\n                magicKey: suggestion.magicKey\r\n              });\r\n            }\r\n          }\r\n        }\r\n        callback(error, suggestions);\r\n      }, this);\r\n    },\r\n\r\n    results: function (text, key, bounds, callback) {\r\n      var request = this.geocode().text(text);\r\n\r\n      if (key) {\r\n        request.key(key);\r\n      }\r\n      // in the future Address/StreetName geocoding requests that include a magicKey will always only return one match\r\n      request.maxLocations(this.options.maxResults);\r\n\r\n      if (bounds) {\r\n        request.within(bounds);\r\n      }\r\n\r\n      if (this.options.forStorage) {\r\n        request.forStorage(true);\r\n      }\r\n\r\n      if (this.options.nearby) {\r\n        // \"distance\"/\"radius\" is not supported by the ArcGIS Online Geocoder,\r\n        // so that is intentionally not passed here:\r\n        request.nearby(this.options.nearby);\r\n      }\r\n\r\n      if (this.options.countries) {\r\n        request.countries(this.options.countries);\r\n      }\r\n\r\n      if (this.options.categories) {\r\n        request.category(this.options.categories);\r\n      }\r\n\r\n      return request.run(function (error, response) {\r\n        callback(error, response.results);\r\n      }, this);\r\n    }\r\n  });\r\n\r\n  function arcgisOnlineProvider (options) {\r\n    return new ArcgisOnlineProvider(options);\r\n  }\n\n  var Geosearch = leaflet.Control.extend({\r\n    includes: leaflet.Evented.prototype,\r\n\r\n    options: {\r\n      position: 'topleft',\r\n      collapseAfterResult: true,\r\n      expanded: false,\r\n      allowMultipleResults: true,\r\n      placeholder: 'Search for places or addresses',\r\n      title: 'Location Search'\r\n    },\r\n\r\n    initialize: function (options) {\r\n      leaflet.Util.setOptions(this, options);\r\n\r\n      if (!options || !options.providers || !options.providers.length) {\r\n        if (!options) {\r\n          options = {};\r\n        }\r\n        options.providers = [arcgisOnlineProvider()];\r\n      }\r\n\r\n      // instantiate the underlying class and pass along options\r\n      this._geosearchCore = geosearchCore(this, options);\r\n      this._geosearchCore._providers = options.providers;\r\n\r\n      // bubble each providers events to the control\r\n      this._geosearchCore.addEventParent(this);\r\n      for (var i = 0; i < this._geosearchCore._providers.length; i++) {\r\n        this._geosearchCore._providers[i].addEventParent(this);\r\n      }\r\n\r\n      this._geosearchCore._pendingSuggestions = [];\r\n\r\n      leaflet.Control.prototype.initialize.call(this, options);\r\n    },\r\n\r\n    _renderSuggestions: function (suggestions) {\r\n      var currentGroup;\r\n\r\n      if (suggestions.length > 0) {\r\n        this._suggestions.style.display = 'block';\r\n      }\r\n\r\n      var list;\r\n      var header;\r\n      var suggestionTextArray = [];\r\n\r\n      for (var i = 0; i < suggestions.length; i++) {\r\n        var suggestion = suggestions[i];\r\n        if (!header && this._geosearchCore._providers.length > 1 && currentGroup !== suggestion.provider.options.label) {\r\n          header = leaflet.DomUtil.create('div', 'geocoder-control-header', suggestion.provider._contentsElement);\r\n          header.textContent = suggestion.provider.options.label;\r\n          header.innerText = suggestion.provider.options.label;\r\n          currentGroup = suggestion.provider.options.label;\r\n        }\r\n\r\n        if (!list) {\r\n          list = leaflet.DomUtil.create('ul', 'geocoder-control-list', suggestion.provider._contentsElement);\r\n        }\r\n\r\n        if (suggestionTextArray.indexOf(suggestion.text) === -1) {\r\n          var suggestionItem = leaflet.DomUtil.create('li', 'geocoder-control-suggestion', list);\r\n\r\n          suggestionItem.innerHTML = suggestion.text;\r\n          suggestionItem.provider = suggestion.provider;\r\n          suggestionItem['data-magic-key'] = suggestion.magicKey;\r\n          suggestionItem.unformattedText = suggestion.unformattedText;\r\n        } else {\r\n          for (var j = 0; j < list.childNodes.length; j++) {\r\n            // if the same text already appears in the list of suggestions, append an additional ObjectID to its magicKey instead\r\n            if (list.childNodes[j].innerHTML === suggestion.text) {\r\n              list.childNodes[j]['data-magic-key'] += ',' + suggestion.magicKey;\r\n            }\r\n          }\r\n        }\r\n        suggestionTextArray.push(suggestion.text);\r\n      }\r\n\r\n      // when the geocoder position is either \"topleft\" or \"topright\":\r\n      // set the maxHeight of the suggestions box to:\r\n      //  map height\r\n      //  - suggestions offset (distance from top of suggestions to top of control)\r\n      //  - control offset (distance from top of control to top of map)\r\n      //  - 10 (extra padding)\r\n      if (this.getPosition().indexOf('top') > -1) {\r\n        this._suggestions.style.maxHeight = (this._map.getSize().y - this._suggestions.offsetTop - this._wrapper.offsetTop - 10) + 'px';\r\n      }\r\n\r\n      // when the geocoder position is either \"bottomleft\" or \"bottomright\":\r\n      // 1. set the maxHeight of the suggestions box to:\r\n      //  map height\r\n      //  - corner control container offsetHeight (height of container of bottom corner)\r\n      //  - control offsetHeight (height of geocoder control wrapper, the main expandable button)\r\n      // 2. to move it up, set the top of the suggestions box to:\r\n      //  negative offsetHeight of suggestions box (its own negative height now that it has children elements\r\n      //  - control offsetHeight (height of geocoder control wrapper, the main expandable button)\r\n      //  + 20 (extra spacing)\r\n      if (this.getPosition().indexOf('bottom') > -1) {\r\n        this._setSuggestionsBottomPosition();\r\n      }\r\n    },\r\n\r\n    _setSuggestionsBottomPosition: function () {\r\n      this._suggestions.style.maxHeight = (this._map.getSize().y - this._map._controlCorners[this.getPosition()].offsetHeight - this._wrapper.offsetHeight) + 'px';\r\n      this._suggestions.style.top = (-this._suggestions.offsetHeight - this._wrapper.offsetHeight + 20) + 'px';\r\n    },\r\n\r\n    _boundsFromResults: function (results) {\r\n      if (!results.length) {\r\n        return;\r\n      }\r\n\r\n      var nullIsland = leaflet.latLngBounds([0, 0], [0, 0]);\r\n      var resultBounds = [];\r\n      var resultLatlngs = [];\r\n\r\n      // collect the bounds and center of each result\r\n      for (var i = results.length - 1; i >= 0; i--) {\r\n        var result = results[i];\r\n\r\n        resultLatlngs.push(result.latlng);\r\n\r\n        // make sure bounds are valid and not 0,0. sometimes bounds are incorrect or not present\r\n        if (result.bounds && result.bounds.isValid() && !result.bounds.equals(nullIsland)) {\r\n          resultBounds.push(result.bounds);\r\n        }\r\n      }\r\n\r\n      // form a bounds object containing all center points\r\n      var bounds = leaflet.latLngBounds(resultLatlngs);\r\n\r\n      // and extend it to contain all bounds objects\r\n      for (var j = 0; j < resultBounds.length; j++) {\r\n        bounds.extend(resultBounds[j]);\r\n      }\r\n\r\n      return bounds;\r\n    },\r\n\r\n    clear: function () {\r\n      this._clearAllSuggestions();\r\n\r\n      if (this.options.collapseAfterResult) {\r\n        this._input.value = '';\r\n        this._lastValue = '';\r\n        this._input.placeholder = '';\r\n        leaflet.DomUtil.removeClass(this._wrapper, 'geocoder-control-expanded');\r\n      }\r\n\r\n      if (!this._map.scrollWheelZoom.enabled() && this._map.options.scrollWheelZoom) {\r\n        this._map.scrollWheelZoom.enable();\r\n      }\r\n    },\r\n\r\n    _clearAllSuggestions: function () {\r\n      this._suggestions.style.display = 'none';\r\n\r\n      for (var i = 0; i < this.options.providers.length; i++) {\r\n        this._clearProviderSuggestions(this.options.providers[i]);\r\n      }\r\n    },\r\n\r\n    _clearProviderSuggestions: function (provider) {\r\n      provider._contentsElement.innerHTML = '';\r\n    },\r\n\r\n    _finalizeSuggestions: function (activeRequests, suggestionsLength) {\r\n      // check if all requests are finished to remove the loading indicator\r\n      if (!activeRequests) {\r\n        leaflet.DomUtil.removeClass(this._input, 'geocoder-control-loading');\r\n\r\n        // when the geocoder position is either \"bottomleft\" or \"bottomright\",\r\n        // it is necessary in some cases to recalculate the maxHeight and top values of the this._suggestions element,\r\n        // even though this is also being done after each provider returns their own suggestions\r\n        if (this.getPosition().indexOf('bottom') > -1) {\r\n          this._setSuggestionsBottomPosition();\r\n        }\r\n\r\n        // also check if there were 0 total suggest results to clear the parent suggestions element\r\n        // otherwise its display value may be \"block\" instead of \"none\"\r\n        if (!suggestionsLength) {\r\n          this._clearAllSuggestions();\r\n        }\r\n      }\r\n    },\r\n\r\n    _setupClick: function () {\r\n      leaflet.DomUtil.addClass(this._wrapper, 'geocoder-control-expanded');\r\n      this._input.focus();\r\n    },\r\n\r\n    disable: function () {\r\n      this._input.disabled = true;\r\n      leaflet.DomUtil.addClass(this._input, 'geocoder-control-input-disabled');\r\n      leaflet.DomEvent.removeListener(this._wrapper, 'click', this._setupClick, this);\r\n    },\r\n\r\n    enable: function () {\r\n      this._input.disabled = false;\r\n      leaflet.DomUtil.removeClass(this._input, 'geocoder-control-input-disabled');\r\n      leaflet.DomEvent.addListener(this._wrapper, 'click', this._setupClick, this);\r\n    },\r\n\r\n    getAttribution: function () {\r\n      var attribs = [];\r\n\r\n      for (var i = 0; i < this._providers.length; i++) {\r\n        if (this._providers[i].options.attribution) {\r\n          attribs.push(this._providers[i].options.attribution);\r\n        }\r\n      }\r\n\r\n      return attribs.join(', ');\r\n    },\r\n\r\n    geocodeSuggestion: function (e) {\r\n      var suggestionItem = e.target || e.srcElement;\r\n\r\n      if (\r\n        suggestionItem.classList.contains('geocoder-control-suggestions') ||\r\n        suggestionItem.classList.contains('geocoder-control-header')\r\n      ) {\r\n        return;\r\n      }\r\n\r\n      // make sure and point at the actual 'geocoder-control-suggestion'\r\n      if (suggestionItem.classList.length < 1) {\r\n        suggestionItem = suggestionItem.parentNode;\r\n      }\r\n\r\n      this._geosearchCore._geocode(suggestionItem.unformattedText, suggestionItem['data-magic-key'], suggestionItem.provider);\r\n      this.clear();\r\n    },\r\n\r\n    onAdd: function (map) {\r\n      // include 'Powered by Esri' in map attribution\r\n      esriLeaflet.Util.setEsriAttribution(map);\r\n\r\n      this._map = map;\r\n      this._wrapper = leaflet.DomUtil.create('div', 'geocoder-control');\r\n      this._input = leaflet.DomUtil.create('input', 'geocoder-control-input leaflet-bar', this._wrapper);\r\n      this._input.title = this.options.title;\r\n\r\n      if (this.options.expanded) {\r\n        leaflet.DomUtil.addClass(this._wrapper, 'geocoder-control-expanded');\r\n        this._input.placeholder = this.options.placeholder;\r\n      }\r\n\r\n      // create the main suggested results container element\r\n      this._suggestions = leaflet.DomUtil.create('div', 'geocoder-control-suggestions leaflet-bar', this._wrapper);\r\n\r\n      // create a child contents container element for each provider inside of this._suggestions\r\n      // to maintain the configured order of providers for suggested results\r\n      for (var i = 0; i < this.options.providers.length; i++) {\r\n        this.options.providers[i]._contentsElement = leaflet.DomUtil.create('div', null, this._suggestions);\r\n      }\r\n\r\n      var credits = this._geosearchCore._getAttribution();\r\n\r\n      if (map.attributionControl) {\r\n        map.attributionControl.addAttribution(credits);\r\n      }\r\n\r\n      leaflet.DomEvent.addListener(this._input, 'focus', function (e) {\r\n        this._input.placeholder = this.options.placeholder;\r\n        leaflet.DomUtil.addClass(this._wrapper, 'geocoder-control-expanded');\r\n      }, this);\r\n\r\n      leaflet.DomEvent.addListener(this._wrapper, 'click', this._setupClick, this);\r\n\r\n      // make sure both click and touch spawn an address/poi search\r\n      leaflet.DomEvent.addListener(this._suggestions, 'mousedown', this.geocodeSuggestion, this);\r\n\r\n      leaflet.DomEvent.addListener(this._input, 'blur', function (e) {\r\n        // TODO: this is too greedy and should not \"clear\"\r\n        // when trying to use the scrollbar or clicking on a non-suggestion item (such as a provider header)\r\n        this.clear();\r\n      }, this);\r\n\r\n      leaflet.DomEvent.addListener(this._input, 'keydown', function (e) {\r\n        var text = (e.target || e.srcElement).value;\r\n\r\n        leaflet.DomUtil.addClass(this._wrapper, 'geocoder-control-expanded');\r\n\r\n        var list = this._suggestions.querySelectorAll('.' + 'geocoder-control-suggestion');\r\n        var selected = this._suggestions.querySelectorAll('.' + 'geocoder-control-selected')[0];\r\n        var selectedPosition;\r\n\r\n        for (var i = 0; i < list.length; i++) {\r\n          if (list[i] === selected) {\r\n            selectedPosition = i;\r\n            break;\r\n          }\r\n        }\r\n\r\n        switch (e.keyCode) {\r\n          case 13:\r\n            /*\r\n              if an item has been selected, geocode it\r\n              if focus is on the input textbox, geocode only if multiple results are allowed and more than two characters are present, or if a single suggestion is displayed.\r\n              if less than two characters have been typed, abort the geocode\r\n            */\r\n            if (selected) {\r\n              this._input.value = selected.innerText;\r\n              this._geosearchCore._geocode(selected.unformattedText, selected['data-magic-key'], selected.provider);\r\n              this.clear();\r\n            } else if (this.options.allowMultipleResults && text.length >= 2) {\r\n              this._geosearchCore._geocode(this._input.value, undefined);\r\n              this.clear();\r\n            } else {\r\n              if (list.length === 1) {\r\n                leaflet.DomUtil.addClass(list[0], 'geocoder-control-selected');\r\n                this._geosearchCore._geocode(list[0].innerHTML, list[0]['data-magic-key'], list[0].provider);\r\n              } else {\r\n                this.clear();\r\n                this._input.blur();\r\n              }\r\n            }\r\n            leaflet.DomEvent.preventDefault(e);\r\n            break;\r\n          case 38:\r\n            if (selected) {\r\n              leaflet.DomUtil.removeClass(selected, 'geocoder-control-selected');\r\n            }\r\n\r\n            var previousItem = list[selectedPosition - 1];\r\n\r\n            if (selected && previousItem) {\r\n              leaflet.DomUtil.addClass(previousItem, 'geocoder-control-selected');\r\n            } else {\r\n              leaflet.DomUtil.addClass(list[list.length - 1], 'geocoder-control-selected');\r\n            }\r\n            leaflet.DomEvent.preventDefault(e);\r\n            break;\r\n          case 40:\r\n            if (selected) {\r\n              leaflet.DomUtil.removeClass(selected, 'geocoder-control-selected');\r\n            }\r\n\r\n            var nextItem = list[selectedPosition + 1];\r\n\r\n            if (selected && nextItem) {\r\n              leaflet.DomUtil.addClass(nextItem, 'geocoder-control-selected');\r\n            } else {\r\n              leaflet.DomUtil.addClass(list[0], 'geocoder-control-selected');\r\n            }\r\n            leaflet.DomEvent.preventDefault(e);\r\n            break;\r\n          default:\r\n            // when the input changes we should cancel all pending suggestion requests if possible to avoid result collisions\r\n            for (var x = 0; x < this._geosearchCore._pendingSuggestions.length; x++) {\r\n              var request = this._geosearchCore._pendingSuggestions[x];\r\n              if (request && request.abort && !request.id) {\r\n                request.abort();\r\n              }\r\n            }\r\n            break;\r\n        }\r\n      }, this);\r\n\r\n      leaflet.DomEvent.addListener(this._input, 'keyup', leaflet.Util.throttle(function (e) {\r\n        var key = e.which || e.keyCode;\r\n        var text = (e.target || e.srcElement).value;\r\n\r\n        // require at least 2 characters for suggestions\r\n        if (text.length < 2) {\r\n          this._lastValue = this._input.value;\r\n          this._clearAllSuggestions();\r\n          leaflet.DomUtil.removeClass(this._input, 'geocoder-control-loading');\r\n          return;\r\n        }\r\n\r\n        // if this is the escape key it will clear the input so clear suggestions\r\n        if (key === 27) {\r\n          this._clearAllSuggestions();\r\n          return;\r\n        }\r\n\r\n        // if this is NOT the up/down arrows or enter make a suggestion\r\n        if (key !== 13 && key !== 38 && key !== 40) {\r\n          if (this._input.value !== this._lastValue) {\r\n            this._lastValue = this._input.value;\r\n            leaflet.DomUtil.addClass(this._input, 'geocoder-control-loading');\r\n            this._geosearchCore._suggest(text);\r\n          }\r\n        }\r\n      }, 50, this), this);\r\n\r\n      leaflet.DomEvent.disableClickPropagation(this._wrapper);\r\n\r\n      // when mouse moves over suggestions disable scroll wheel zoom if its enabled\r\n      leaflet.DomEvent.addListener(this._suggestions, 'mouseover', function (e) {\r\n        if (map.scrollWheelZoom.enabled() && map.options.scrollWheelZoom) {\r\n          map.scrollWheelZoom.disable();\r\n        }\r\n      });\r\n\r\n      // when mouse moves leaves suggestions enable scroll wheel zoom if its disabled\r\n      leaflet.DomEvent.addListener(this._suggestions, 'mouseout', function (e) {\r\n        if (!map.scrollWheelZoom.enabled() && map.options.scrollWheelZoom) {\r\n          map.scrollWheelZoom.enable();\r\n        }\r\n      });\r\n\r\n      this._geosearchCore.on('load', function (e) {\r\n        leaflet.DomUtil.removeClass(this._input, 'geocoder-control-loading');\r\n        this.clear();\r\n        this._input.blur();\r\n      }, this);\r\n\r\n      return this._wrapper;\r\n    }\r\n  });\r\n\r\n  function geosearch (options) {\r\n    return new Geosearch(options);\r\n  }\n\n  var FeatureLayerProvider = esriLeaflet.FeatureLayerService.extend({\r\n    options: {\r\n      label: 'Feature Layer',\r\n      maxResults: 5,\r\n      bufferRadius: 1000,\r\n      searchMode: 'contain',\r\n      formatSuggestion: function (feature) {\r\n        return feature.properties[this.options.searchFields[0]];\r\n      }\r\n    },\r\n\r\n    initialize: function (options) {\r\n      if (options.apikey) {\r\n        options.token = options.apikey;\r\n      }\r\n      esriLeaflet.FeatureLayerService.prototype.initialize.call(this, options);\r\n      if (typeof this.options.searchFields === 'string') {\r\n        this.options.searchFields = [this.options.searchFields];\r\n      }\r\n      this._suggestionsQuery = this.query();\r\n      this._resultsQuery = this.query();\r\n    },\r\n\r\n    suggestions: function (text, bounds, callback) {\r\n      var query = this._suggestionsQuery.where(this._buildQuery(text))\r\n        .returnGeometry(false);\r\n\r\n      if (bounds) {\r\n        query.intersects(bounds);\r\n      }\r\n\r\n      if (this.options.idField) {\r\n        query.fields([this.options.idField].concat(this.options.searchFields));\r\n      }\r\n\r\n      var request = query.run(function (error, results, raw) {\r\n        if (error) {\r\n          callback(error, []);\r\n        } else {\r\n          this.options.idField = raw.objectIdFieldName;\r\n          var suggestions = [];\r\n          for (var i = results.features.length - 1; i >= 0; i--) {\r\n            var feature = results.features[i];\r\n            suggestions.push({\r\n              text: this.options.formatSuggestion.call(this, feature),\r\n              unformattedText: feature.properties[this.options.searchFields[0]],\r\n              magicKey: feature.id\r\n            });\r\n          }\r\n          callback(error, suggestions.slice(0, this.options.maxResults));\r\n        }\r\n      }, this);\r\n\r\n      return request;\r\n    },\r\n\r\n    results: function (text, key, bounds, callback) {\r\n      var query = this._resultsQuery;\r\n\r\n      if (key) {\r\n        // if there are 1 or more keys available, use query.featureIds()\r\n        delete query.params.where;\r\n        query.featureIds([key]);\r\n      } else {\r\n        // if there are no keys available, use query.where()\r\n        query.where(this._buildQuery(text));\r\n      }\r\n\r\n      if (bounds) {\r\n        query.within(bounds);\r\n      }\r\n\r\n      return query.run(leaflet.Util.bind(function (error, features) {\r\n        var results = [];\r\n        for (var i = 0; i < features.features.length; i++) {\r\n          var feature = features.features[i];\r\n          if (feature) {\r\n            var bounds = this._featureBounds(feature);\r\n\r\n            var result = {\r\n              latlng: bounds.getCenter(),\r\n              bounds: bounds,\r\n              text: this.options.formatSuggestion.call(this, feature),\r\n              properties: feature.properties,\r\n              geojson: feature\r\n            };\r\n\r\n            results.push(result);\r\n\r\n            // clear query parameters for the next search\r\n            delete this._resultsQuery.params['objectIds'];\r\n          }\r\n        }\r\n        callback(error, results);\r\n      }, this));\r\n    },\r\n\r\n    orderBy: function (fieldName, order) {\r\n      this._suggestionsQuery.orderBy(fieldName, order);\r\n    },\r\n\r\n    _buildQuery: function (text) {\r\n      var queryString = [];\r\n\r\n      for (var i = this.options.searchFields.length - 1; i >= 0; i--) {\r\n        var field = 'upper(\"' + this.options.searchFields[i] + '\")';\r\n        if (this.options.searchMode === 'contain') {\r\n          queryString.push(field + \" LIKE upper('%\" + text + \"%')\");\r\n        } else if (this.options.searchMode === 'startWith') {\r\n          queryString.push(field + \" LIKE upper('\" + text + \"%')\");\r\n        } else if (this.options.searchMode === 'endWith') {\r\n          queryString.push(field + \" LIKE upper('%\" + text + \"')\");\r\n        } else if (this.options.searchMode === 'strict') {\r\n          queryString.push(field + \" LIKE upper('\" + text + \"')\");\r\n        } else {\r\n          throw new Error('L.esri.Geocoding.featureLayerProvider: Invalid parameter for \"searchMode\". Use one of \"contain\", \"startWith\", \"endWith\", or \"strict\"');\r\n        }\r\n      }\r\n      if (this.options.where) {\r\n        return this.options.where + ' AND (' + queryString.join(' OR ') + ')';\r\n      } else {\r\n        return queryString.join(' OR ');\r\n      }\r\n    },\r\n\r\n    _featureBounds: function (feature) {\r\n      var geojson = leaflet.geoJson(feature);\r\n      if (feature.geometry.type === 'Point') {\r\n        var center = geojson.getBounds().getCenter();\r\n        var lngRadius = ((this.options.bufferRadius / 40075017) * 360) / Math.cos((180 / Math.PI) * center.lat);\r\n        var latRadius = (this.options.bufferRadius / 40075017) * 360;\r\n        return leaflet.latLngBounds([center.lat - latRadius, center.lng - lngRadius], [center.lat + latRadius, center.lng + lngRadius]);\r\n      } else {\r\n        return geojson.getBounds();\r\n      }\r\n    }\r\n  });\r\n\r\n  function featureLayerProvider (options) {\r\n    return new FeatureLayerProvider(options);\r\n  }\n\n  var MapServiceProvider = esriLeaflet.MapService.extend({\r\n    options: {\r\n      layers: [0],\r\n      label: 'Map Service',\r\n      bufferRadius: 1000,\r\n      maxResults: 5,\r\n      formatSuggestion: function (feature) {\r\n        return feature.properties[feature.displayFieldName] + ' <small>' + feature.layerName + '</small>';\r\n      }\r\n    },\r\n\r\n    initialize: function (options) {\r\n      if (options.apikey) {\r\n        options.token = options.apikey;\r\n      }\r\n      esriLeaflet.MapService.prototype.initialize.call(this, options);\r\n      this._getIdFields();\r\n    },\r\n\r\n    suggestions: function (text, bounds, callback) {\r\n      var request = this.find().text(text).fields(this.options.searchFields).returnGeometry(false).layers(this.options.layers);\r\n\r\n      return request.run(function (error, results, raw) {\r\n        var suggestions = [];\r\n        if (!error) {\r\n          var count = Math.min(this.options.maxResults, results.features.length);\r\n          raw.results = raw.results.reverse();\r\n          for (var i = 0; i < count; i++) {\r\n            var feature = results.features[i];\r\n            var result = raw.results[i];\r\n            var layer = result.layerId;\r\n            var idField = this._idFields[layer];\r\n            feature.layerId = layer;\r\n            feature.layerName = this._layerNames[layer];\r\n            feature.displayFieldName = this._displayFields[layer];\r\n            if (idField) {\r\n              suggestions.push({\r\n                text: this.options.formatSuggestion.call(this, feature),\r\n                unformattedText: feature.properties[feature.displayFieldName],\r\n                magicKey: result.attributes[idField] + ':' + layer\r\n              });\r\n            }\r\n          }\r\n        }\r\n        callback(error, suggestions.reverse());\r\n      }, this);\r\n    },\r\n\r\n    results: function (text, key, bounds, callback) {\r\n      var results = [];\r\n      var request;\r\n\r\n      if (key && !key.includes(',')) {\r\n        // if there is only 1 key available, use query()\r\n        var featureId = key.split(':')[0];\r\n        var layer = key.split(':')[1];\r\n        request = this.query().layer(layer).featureIds(featureId);\r\n      } else {\r\n        // if there are no keys or more than 1 keys available, use find()\r\n        request = this.find().text(text).fields(this.options.searchFields).layers(this.options.layers);\r\n      }\r\n\r\n      return request.run(function (error, features, response) {\r\n        if (!error) {\r\n          if (response.results) {\r\n            response.results = response.results.reverse();\r\n          }\r\n          for (var i = 0; i < features.features.length; i++) {\r\n            var feature = features.features[i];\r\n            layer = layer || response.results[i].layerId;\r\n\r\n            if (feature && layer !== undefined) {\r\n              var bounds = this._featureBounds(feature);\r\n              feature.layerId = layer;\r\n              feature.layerName = this._layerNames[layer];\r\n              feature.displayFieldName = this._displayFields[layer];\r\n\r\n              var result = {\r\n                latlng: bounds.getCenter(),\r\n                bounds: bounds,\r\n                text: this.options.formatSuggestion.call(this, feature),\r\n                properties: feature.properties,\r\n                geojson: feature\r\n              };\r\n\r\n              results.push(result);\r\n            }\r\n          }\r\n        }\r\n        callback(error, results.reverse());\r\n      }, this);\r\n    },\r\n\r\n    _featureBounds: function (feature) {\r\n      var geojson = leaflet.geoJson(feature);\r\n      if (feature.geometry.type === 'Point') {\r\n        var center = geojson.getBounds().getCenter();\r\n        var lngRadius = ((this.options.bufferRadius / 40075017) * 360) / Math.cos((180 / Math.PI) * center.lat);\r\n        var latRadius = (this.options.bufferRadius / 40075017) * 360;\r\n        return leaflet.latLngBounds([center.lat - latRadius, center.lng - lngRadius], [center.lat + latRadius, center.lng + lngRadius]);\r\n      } else {\r\n        return geojson.getBounds();\r\n      }\r\n    },\r\n\r\n    _layerMetadataCallback: function (layerid) {\r\n      return leaflet.Util.bind(function (error, metadata) {\r\n        if (error) { return; }\r\n        this._displayFields[layerid] = metadata.displayField;\r\n        this._layerNames[layerid] = metadata.name;\r\n        for (var i = 0; i < metadata.fields.length; i++) {\r\n          var field = metadata.fields[i];\r\n          if (field.type === 'esriFieldTypeOID') {\r\n            this._idFields[layerid] = field.name;\r\n            break;\r\n          }\r\n        }\r\n      }, this);\r\n    },\r\n\r\n    _getIdFields: function () {\r\n      this._idFields = {};\r\n      this._displayFields = {};\r\n      this._layerNames = {};\r\n      for (var i = 0; i < this.options.layers.length; i++) {\r\n        var layer = this.options.layers[i];\r\n        this.get(layer, {}, this._layerMetadataCallback(layer));\r\n      }\r\n    }\r\n  });\r\n\r\n  function mapServiceProvider (options) {\r\n    return new MapServiceProvider(options);\r\n  }\n\n  var GeocodeServiceProvider = GeocodeService.extend({\r\n    options: {\r\n      label: 'Geocode Server',\r\n      maxResults: 5\r\n    },\r\n\r\n    suggestions: function (text, bounds, callback) {\r\n      if (this.options.supportsSuggest) {\r\n        var request = this.suggest().text(text);\r\n        if (bounds) {\r\n          request.within(bounds);\r\n        }\r\n\r\n        return request.run(function (error, results, response) {\r\n          var suggestions = [];\r\n          if (!error) {\r\n            while (response.suggestions.length && suggestions.length <= (this.options.maxResults - 1)) {\r\n              var suggestion = response.suggestions.shift();\r\n              if (!suggestion.isCollection) {\r\n                suggestions.push({\r\n                  text: suggestion.text,\r\n                  unformattedText: suggestion.text,\r\n                  magicKey: suggestion.magicKey\r\n                });\r\n              }\r\n            }\r\n          }\r\n          callback(error, suggestions);\r\n        }, this);\r\n      } else {\r\n        callback(null, []);\r\n        return false;\r\n      }\r\n    },\r\n\r\n    results: function (text, key, bounds, callback) {\r\n      var request = this.geocode().text(text);\r\n\r\n      if (key) {\r\n        request.key(key);\r\n      }\r\n\r\n      request.maxLocations(this.options.maxResults);\r\n\r\n      if (bounds) {\r\n        request.within(bounds);\r\n      }\r\n\r\n      return request.run(function (error, response) {\r\n        callback(error, response.results);\r\n      }, this);\r\n    }\r\n  });\r\n\r\n  function geocodeServiceProvider (options) {\r\n    return new GeocodeServiceProvider(options);\r\n  }\n\n  exports.ArcgisOnlineProvider = ArcgisOnlineProvider;\n  exports.FeatureLayerProvider = FeatureLayerProvider;\n  exports.Geocode = Geocode;\n  exports.GeocodeService = GeocodeService;\n  exports.GeocodeServiceProvider = GeocodeServiceProvider;\n  exports.Geosearch = Geosearch;\n  exports.GeosearchCore = GeosearchCore;\n  exports.MapServiceProvider = MapServiceProvider;\n  exports.ReverseGeocode = ReverseGeocode;\n  exports.Suggest = Suggest;\n  exports.VERSION = version;\n  exports.WorldGeocodingServiceUrl = WorldGeocodingServiceUrl;\n  exports.arcgisOnlineProvider = arcgisOnlineProvider;\n  exports.featureLayerProvider = featureLayerProvider;\n  exports.geocode = geocode;\n  exports.geocodeService = geocodeService;\n  exports.geocodeServiceProvider = geocodeServiceProvider;\n  exports.geosearch = geosearch;\n  exports.geosearchCore = geosearchCore;\n  exports.mapServiceProvider = mapServiceProvider;\n  exports.reverseGeocode = reverseGeocode;\n  exports.suggest = suggest;\n\n  Object.defineProperty(exports, '__esModule', { value: true });\n\n}));\n"],"names":["Component","ViewChild","ChangeDetectorRef","SwiperCore","Pagination","Autoplay","EffectFade","Navigation","Router","Geolocation","ELG","AlertController","StorageService","use","OnboardingPage","constructor","router","cd","alertController","storageService","allowTouchMove","keyboard","pagination","type","effect","fadeEffect","crossFade","autoplay","delay","ngOnInit","background","next","swiper","swiperRef","slideNext","getLocation","alert","create","header","message","buttons","getCurrentPosition","enableHighAccuracy","then","resp","console","log","latitude","coords","longitude","catch","error","present","ltlng","setStorage","reverseGeocode","apikey","key","latlng","run","result","response","save","selected","setOnboarding","navigate","select","event","skip","ngOnDestroy","destroy","onAfterTransition","activeIndex","args","static","selector","template","registerPlugin","web","m","GeolocationWeb","createCapacitorPlatforms","win","defaultPlatformMap","Map","set","name","capPlatforms","CapacitorPlatforms","currentPlatform","platforms","addPlatform","platform","setPlatform","has","get","initPlatforms","globalThis","self","window","global","legacyRegisterWebPlugin","cap","webPlugin","_a","config","Plugins","Error","warn","includes","getPlatform","ExceptionCode","CapacitorException","code","getPlatformId","_b","androidBridge","webkit","messageHandlers","bridge","createCapacitor","_c","_d","_e","capCustomPlatform","CapacitorCustomPlatform","Capacitor","defaultGetPlatform","defaultIsNativePlatform","isNativePlatform","defaultIsPluginAvailable","pluginName","plugin","registeredPlugins","getPluginHeader","isPluginAvailable","defaultGetPluginHeader","PluginHeaders","find","h","handleError","err","pluginMethodNoop","_target","prop","Promise","reject","defaultRegisterPlugin","jsImplementations","registeredPlugin","proxy","pluginHeader","jsImplementation","loadPluginImplementation","createPluginMethod","impl","methodHeader","methods","rtype","options","nativePromise","toString","callback","nativeCallback","bind","Unimplemented","createPluginMethodWrapper","remove","wrapper","p","fn","Object","defineProperty","value","writable","configurable","addListener","removeListener","addListenerNative","eventName","call","callbackId","resolve","Proxy","_","undefined","Set","keys","convertFileSrc","filePath","Exception","DEBUG","isLoggingEnabled","isNative","initCapacitorGlobal","registerWebPlugin","WebPlugin","listeners","windowListeners","listenerFunc","push","windowListener","registered","addWindowListener","removeAllListeners","listener","removeWindowListener","notifyListeners","data","forEach","hasListeners","length","registerWindowListener","windowEventName","pluginEventName","handler","unimplemented","msg","unavailable","Unavailable","index","indexOf","splice","handle","addEventListener","removeEventListener","WebView","factory","exports","module","require","define","amd","L","esri","Geocoding","leaflet","esriLeaflet","version","WorldGeocodingServiceUrl","Geocode","Task","extend","path","params","outSr","forStorage","outFields","maxLocations","setters","address","neighborhood","city","subregion","region","postal","country","text","category","token","fields","countries","initialize","url","prototype","within","bounds","latLngBounds","searchExtent","Util","boundsToExtent","nearby","radius","centroid","latLng","location","lng","lat","distance","Math","min","max","context","customParam","singleLine","request","processor","_processGeocoderResponse","results","i","candidates","candidate","extent","extentToBounds","score","y","x","properties","attributes","geocode","ReverseGeocode","outSR","returnIntersection","language","intersection","Suggest","maxSuggestions","supportsSuggest","center","getCenter","ne","getNorthWest","distanceTo","suggest","GeocodeService","Service","_confirmSuggestSupport","reverse","metadata","capabilities","singleLineAddressField","geocodeService","GeosearchCore","Evented","zoomToResult","useMapBounds","searchBounds","control","setOptions","_control","providers","_providers","_geocode","provider","activeRequests","allResults","concat","_boundsFromResults","fire","_map","fitBounds","_searchBounds","_suggest","suggestionsLength","createCallback","suggestions","_clearProviderSuggestions","_finalizeSuggestions","_renderSuggestions","_lastRender","_input","_pendingSuggestions","getBounds","getZoom","nullIsland","resultBounds","resultLatlngs","isValid","equals","j","_getAttribution","attribs","attribution","join","geosearchCore","ArcgisOnlineProvider","label","maxResults","categories","suggestion","shift","isCollection","unformattedText","magicKey","arcgisOnlineProvider","Geosearch","Control","position","collapseAfterResult","expanded","allowMultipleResults","placeholder","title","_geosearchCore","addEventParent","currentGroup","_suggestions","style","display","list","suggestionTextArray","DomUtil","_contentsElement","textContent","innerText","suggestionItem","innerHTML","childNodes","getPosition","maxHeight","getSize","offsetTop","_wrapper","_setSuggestionsBottomPosition","_controlCorners","offsetHeight","top","clear","_clearAllSuggestions","_lastValue","removeClass","scrollWheelZoom","enabled","enable","_setupClick","addClass","focus","disable","disabled","DomEvent","getAttribution","geocodeSuggestion","e","target","srcElement","classList","contains","parentNode","onAdd","map","setEsriAttribution","credits","attributionControl","addAttribution","querySelectorAll","selectedPosition","keyCode","blur","preventDefault","previousItem","nextItem","abort","id","throttle","which","disableClickPropagation","on","geosearch","FeatureLayerProvider","FeatureLayerService","bufferRadius","searchMode","formatSuggestion","feature","searchFields","_suggestionsQuery","query","_resultsQuery","where","_buildQuery","returnGeometry","intersects","idField","raw","objectIdFieldName","features","slice","featureIds","_featureBounds","geojson","orderBy","fieldName","order","queryString","field","geoJson","geometry","lngRadius","cos","PI","latRadius","featureLayerProvider","MapServiceProvider","MapService","layers","displayFieldName","layerName","_getIdFields","count","layer","layerId","_idFields","_layerNames","_displayFields","featureId","split","_layerMetadataCallback","layerid","displayField","mapServiceProvider","GeocodeServiceProvider","geocodeServiceProvider","VERSION"],"sourceRoot":"webpack:///","x_google_ignoreList":[3,4,5]}