"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([["src_app_perfil_perfil_module_ts"],{2660:(k,g,i)=>{i.r(g),i.d(g,{PerfilPageModule:()=>M});var v=i(4666),s=i(609),n=i(2004),d=i(8891),c=i(1670),b=i(6957),Z=i(3541),e=i(2135),m=i(9048),f=i(4505),P=i(2340),x=i(8987),S=i(1188),h=i(4465);let F=(()=>{class r{constructor(o,t,a,u,p){this.http=o,this.storageService=t,this.formService=a,this.toastService=u,this.router=p,this.user=new f.X(null),this.optionChosed=new f.X(null),this.url=P.N.url}loadUser(){var o=this;return(0,c.Z)(function*(){yield o.storageService.getStorage2("user").then(t=>{console.log(t)})})()}setUser(o){var t=this;return(0,c.Z)(function*(){const a=yield t.storageService.getStorage2("id");yield t.storageService.saveStorage("user",o),yield t.formService.update(o,"user");try{if((yield t.http.post(`${t.url}/help/${a}`,o).toPromise()).status)return t.storageService.saveStorage("user_update",!0),t.user.next(o),t.toastService.toast("Datos guardados ! :)","success"),Promise.resolve(!0)}catch{return t.storageService.saveStorage("user_update",!1),t.toastService.toast("Hubo un error al cargar tus datos :( ","danger"),Promise.resolve(!1)}})()}getUser(){var o=this;return(0,c.Z)(function*(){let t;return yield o.storageService.hasValue("user").then(a=>{t=a}),t?(o.user.next(yield o.storageService.getStorage2("user")),Promise.resolve(!0)):Promise.resolve(!1)})()}getData(){return this.user.asObservable()}clearData(){this.storageService.clearData(),this.router.navigate(["onboarding"],{replaceUrl:!0})}}return r.\u0275fac=function(o){return new(o||r)(e.LFG(x.eN),e.LFG(S.V),e.LFG(m.o),e.LFG(h.k),e.LFG(d.F0))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();function C(r,l){if(1&r){const o=e.EpF();e.TgZ(0,"ion-content",28)(1,"ion-list",29)(2,"ion-list-header",30)(3,"ion-label",31)(4,"h2",32),e._uU(5,"Configuraci\xf3n"),e.qZA()()(),e.TgZ(6,"ion-item",33),e.NdJ("click",function(){e.CHM(o);const a=e.oxw();return e.KtG(a.changeForm())}),e.TgZ(7,"ion-label")(8,"p"),e._uU(9,"Eleg\xedr otro Formulario"),e.qZA()(),e._UZ(10,"ion-icon",34),e.qZA(),e.TgZ(11,"ion-item",35)(12,"ion-label")(13,"p"),e._uU(14,"Eliminar mis datos "),e.qZA()(),e._UZ(15,"ion-icon",34),e.qZA(),e.TgZ(16,"ion-item",33),e.NdJ("click",function(){e.CHM(o);const a=e.oxw();return e.KtG(a.modalAboutUs())}),e.TgZ(17,"ion-label")(18,"p"),e._uU(19,"Sobre nosotros"),e.qZA()(),e._UZ(20,"ion-icon",34),e.qZA()()()}}const y=function(){return["/principal/preguntas-frecuentes"]},U=[{path:"",component:(()=>{class r{constructor(o,t,a,u,p,T,G){this.formBuilder=o,this.formService=t,this.userService=a,this.toastService=u,this.modalCtrl=p,this.alertController=T,this.router=G,this.$obs=new b.w}ngOnInit(){var o=this;return(0,c.Z)(function*(){if(o.myForm=o.formBuilder.group({name:["",[s.kI.required,s.kI.minLength(3)]],phone:["",[s.kI.required,s.kI.minLength(3)]],email:["",[s.kI.required]],address:["",[s.kI.required]]}),o.loaded=yield o.userService.getUser(),o.loaded){const t=o.userService.getData().subscribe(a=>{o.patchForm(a)});o.$obs.add(t)}})()}onSubmit(){var o=this;return(0,c.Z)(function*(){(yield o.userService.setUser(o.myForm.value))&&(o.title=o.myForm.controls.name.value),o.loaded=!0})()}ionViewWillLeave(){this.$obs.unsubscribe()}patchForm(o){this.myForm.patchValue({name:o.name,phone:o.phone,email:o.email,address:o.address}),this.title=o.name}modalAboutUs(){var o=this;return(0,c.Z)(function*(){const t=yield o.modalCtrl.create({component:Z.x});t.present(),yield t.onWillDismiss()})()}changeForm(){var o=this;return(0,c.Z)(function*(){yield(yield o.alertController.create({header:"Est\xe1s seguro?",buttons:[{text:"No",cssClass:"alert-button-cancel"},{text:"Si",cssClass:"alert-button-confirm",handler:()=>{o.userService.clearData()}}]})).present()})()}}return r.\u0275fac=function(o){return new(o||r)(e.Y36(s.qu),e.Y36(m.o),e.Y36(F),e.Y36(h.k),e.Y36(n.IN),e.Y36(n.Br),e.Y36(d.F0))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-perfil"]],decls:52,vars:7,consts:[[2,"display","flex","flex-direction","row-reverse","padding","0px"],["size","12"],["id","open-popover",1,"toolbar"],["slot","icon-only","name","ellipsis-horizontal"],["novalidate","",2,"padding-top","0px",3,"formGroup","ngSubmit"],[1,"Grid"],[1,"Grid-perfil"],["size","12",1,"Grid-perfil-col"],[1,"Grid-perfil-col-div"],["src","../../assets/images/perfil.png",1,"Grid-perfil-col-div-image"],[1,"Grid-perfil-col-div-label"],[1,"Grid-perfil-col-div-label-p"],["detail","false","button","","lines","none",1,"datos",3,"routerLink"],[1,"datos-label","ion-text-center"],[1,"datos-label-p"],["slot","end","src","../../assets/icon/chevron-black.svg",1,"datos-icon"],["lines","none",1,"form"],["position","stacked",1,"form-label"],["formControlName","name","placeholder","Mi nombre es ...",1,"form-label-p"],["src","../../assets/icon/nameForm.svg","slot","start"],["formControlName","phone","placeholder","Mi telefono es ...",1,"form-label-p"],["src","../../assets/icon/phoneForm.svg","slot","start"],["formControlName","email","placeholder","Mi correo  es ...",1,"form-label-p"],["src","../../assets/icon/mailForm.svg","slot","start"],["formControlName","address","placeholder","Mi direcci\xf3n es ...",1,"form-label-p"],["src","../../assets/icon/locationForm.svg","slot","start"],["type","submit",1,"save",3,"disabled"],["trigger","open-popover",3,"dismissOnSelect","keepContentsMounted"],[1,"ion-padding",2,"--background","#f4f4f4"],[2,"background","#f4f4f4","padding","0px"],[2,"--background","#5A4BB2","border-radius","8px"],["align","center"],[2,"font-size","16px","font-weight","500","color","#fff"],["detail","false","button","","lines","none",1,"lista",3,"click"],["name","chevron-forward-outline",2,"color","#5A4BB2"],["detail","false","button","","lines","none",1,"lista"]],template:function(o,t){1&o&&(e.TgZ(0,"ion-content")(1,"ion-grid",0)(2,"ion-row")(3,"ion-col",1)(4,"ion-button",2),e._UZ(5,"ion-icon",3),e.qZA()()()(),e.TgZ(6,"form",4),e.NdJ("ngSubmit",function(){return t.onSubmit()}),e.TgZ(7,"ion-grid",5)(8,"ion-row",6)(9,"ion-col",7)(10,"div",8),e._UZ(11,"img",9),e.TgZ(12,"ion-label",10)(13,"p",11),e._uU(14,"\xa1 Hola,"),e.qZA(),e.TgZ(15,"p",11),e._uU(16),e.qZA()()()(),e.TgZ(17,"ion-col",1)(18,"ion-item",12)(19,"ion-label",13)(20,"p",14),e._uU(21,"Tips Y consejos "),e.qZA()(),e._UZ(22,"ion-icon",15),e.qZA()(),e.TgZ(23,"ion-col",1)(24,"ion-item",16)(25,"ion-label",17),e._uU(26,"Nombre"),e.qZA(),e._UZ(27,"ion-input",18)(28,"ion-icon",19),e.qZA()(),e.TgZ(29,"ion-col",1)(30,"ion-item",16)(31,"ion-label",17),e._uU(32,"Telefono"),e.qZA(),e._UZ(33,"ion-input",20)(34,"ion-icon",21),e.qZA()(),e.TgZ(35,"ion-col",1)(36,"ion-item",16)(37,"ion-label",17),e._uU(38,"Correo electr\xf3nico"),e.qZA(),e._UZ(39,"ion-input",22)(40,"ion-icon",23),e.qZA()(),e.TgZ(41,"ion-col",1)(42,"ion-item",16)(43,"ion-label",17),e._uU(44,"Direcci\xf3n"),e.qZA(),e._UZ(45,"ion-input",24)(46,"ion-icon",25),e.qZA()(),e.TgZ(47,"ion-col",1)(48,"ion-button",26),e._uU(49,"Actualizar"),e.qZA()()()()(),e.TgZ(50,"ion-popover",27),e.YNc(51,C,21,0,"ng-template"),e.qZA()()),2&o&&(e.xp6(6),e.Q6J("formGroup",t.myForm),e.xp6(10),e.hij("",t.loaded?t.title:"Queremos Conocerte m\xe1s"," !"),e.xp6(2),e.Q6J("routerLink",e.DdM(6,y)),e.xp6(30),e.Q6J("disabled",!t.myForm.valid),e.xp6(2),e.Q6J("dismissOnSelect",!0)("keepContentsMounted",!0))},dependencies:[s._Y,s.JJ,s.JL,n.YG,n.wI,n.W2,n.jY,n.gu,n.pK,n.Ie,n.Q$,n.q_,n.yh,n.Nd,n.d8,n.j9,n.YI,d.rH,s.sg,s.u],styles:["ion-content[_ngcontent-%COMP%]{--background:#F4F4F4}.Grid[_ngcontent-%COMP%]{padding-left:15px;padding-right:15px;padding-top:20px;height:100%;display:block;flex-flow:column}.Grid-perfil-col[_ngcontent-%COMP%]{border-radius:20px;background:#5A4BB2;text-align:center;align-items:center;align-content:center}.Grid-perfil-col-div[_ngcontent-%COMP%]{width:100%;position:relative;margin-bottom:10px}.Grid-perfil-col-div-image[_ngcontent-%COMP%]{margin-top:-60px;bottom:-84px;width:115px;height:115px;border-radius:50%;background:#f4f4f4;border:solid 2px #FE910E;margin-bottom:30px}.Grid-perfil-col-div-label-p[_ngcontent-%COMP%]{color:#fff;font-size:18px;font-weight:700;margin-bottom:5px}.datos[_ngcontent-%COMP%]{width:100%;border-radius:15px;padding:10px;--background: #ffff;--border-radius: 15px}.datos-label-p[_ngcontent-%COMP%]{padding:6px;color:#000;font-size:18px}.datos-datos-icon[_ngcontent-%COMP%]{color:#000!important}.form[_ngcontent-%COMP%]{width:100%;margin-top:5px;padding:0;--background: #ffff;border-radius:15px;border:1px solid #5A4BB2}.form-label-p[_ngcontent-%COMP%]{padding:0;color:#000;font-size:18px}.form-datos-icon[_ngcontent-%COMP%]{color:#000!important}.save[_ngcontent-%COMP%]{font-weight:100;text-transform:none;--background:#FE910E !important;--color:#fff;width:100%;height:100%;--padding-bottom: .5rem;--border-radius: .2rem;--padding-top: .5rem;font-size:1rem;--border-radius:15px}.toolbar[_ngcontent-%COMP%]{--background:#F4F4F4;--color:#5A4BB2;--border-color: none;--border-width: 0px !important;--box-shadow:none}.lista[_ngcontent-%COMP%]{--inner-padding-end: 0;border-radius:8px;--border-radius:8px;--background: #f4f4f4}"]}),r})()}];let A=(()=>{class r{}return r.\u0275fac=function(o){return new(o||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[d.Bz.forChild(U),d.Bz]}),r})(),M=(()=>{class r{}return r.\u0275fac=function(o){return new(o||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[v.ez,s.u5,n.Pc,A,s.u5,s.UX]}),r})()}}]);
//# sourceMappingURL=src_app_perfil_perfil_module_ts.c151cc21e38ee4fc.js.map